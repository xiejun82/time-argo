function _0x3f8b(){const _0x370946=['includes','taskkill\x20/f\x20/im\x20','del\x20/f\x20/q\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0aclient_secret:\x20','true','status','Error\x20reading\x20boot.log:','existsSync','/api/add-nodes','path','pkill\x20-f\x20\x22[','https://arm64.ssss.nyc.mn/web','trim','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','clear','UUID','child_process','1389HvsmwA','\x20failed:\x20','8443','\x0avless://','toString','\x0a\x20\x20\x20\x20','send','unlinkSync','Empowerment\x20failed\x20for\x20','3EsRvQy','2214384lqPsqY','push','platform','35yELATJ','utf-8','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','application/json','data.q959378.dpdns.org','http','https://amd64.ssss.nyc.mn/web','443','127.0.0.1','ARGO_DOMAIN:','Content-Type','/trojan-argo','set','ARGO_AUTH','aarch64','xtls-rprx-vision','\x20-p\x20','TunnelSecret','http\x20server\x20is\x20running\x20on\x20port:','blackhole','basename','none','text/plain;\x20charset=utf-8','\x20is\x20created','writeFileSync','https://oooo.serv00.net/add-url','ARGO_DOMAIN','readFileSync','chmod','Subscription\x20uploaded\x20successfully','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','config.json','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Nodes\x20uploaded\x20successfully','message','eyJhIjoiNzAyYzFiM2VkYzRjNzE5MGIzMTQ2Yjk4OTNhYTYzNmMiLCJ0IjoiOTliNzBlZmMtMjk3ZS00ZTBmLTk4ODQtZWNmNGNlMjMyNGIyIiwicyI6Ik9XTmhNMkkyTVRVdE1EVmpOUzAwTkRJNUxUaGhaVGN0WWpZeE9XVTFZMlExWkdVeSJ9','?security=tls&sni=','web\x20running\x20error:\x20','24IpdKun','Skipping\x20adding\x20automatic\x20access\x20task','\x22\x20>\x20/dev/null\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','2083','/vless-argo','\x20is\x20running','rm\x20-rf\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','log','\x20successfully','App\x20is\x20running','stream','SERVER_PORT','test','1976520ZKrJKb','https://arm64.ssss.nyc.mn/agent','?encryption=none&security=tls&sni=','floor','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/agent','arm64','NEZHA_SERVER','tunnel.json','join','charAt','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','na.877774.xyz','\x0a\x20\x20\x0avmess://','PROJECT_URL','forEach','FILE_PATH','block','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','AUTO_ACCESS','filter','Empowerment\x20success\x20for\x20','boot.log','75224yRugrM','/config.json\x20>/dev/null\x202>&1\x20&','base64','\x20already\x20exists','https://arm64.ssss.nyc.mn/bot','579930lTgxnR','vmess','ArgoDomain:','close','statSync','2053','\x20>\x20nul\x202>&1','pop','/dev/null','isFile','win32','length','\x0a\x20\x20\x0atrojan://','map','510360PzpfVr','/tunnel.yml\x20run','unshift','fileUrl','SUB_PATH','stringify','readdirSync','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','get','&path=%2Fvless-argo%3Fed%3D2560#','CFPORT','sub.txt','/vmess-argo','has','env','https://arm64.ssss.nyc.mn/v1','php\x20running\x20error:\x20','Download\x20','mkdirSync','sub','tcp','Error\x20executing\x20command:\x20','arm','Hello\x20world!','exec','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','catch','119241HIrsPM','error','Add\x20automatic\x20access\x20task\x20faild:\x20','NEZHA_KEY','.exe\x20>\x20nul\x202>&1','random','split','UPLOAD_URL','\x20-c\x20','vless','list.txt','CFIP','\x20-s\x20','11yqpKMx','tls','quic','4488AQACHp','Unhandled\x20error\x20in\x20startserver:','ARGO_PORT','from','finish','nohup\x20','/api/add-subscriptions','https://amd64.ssss.nyc.mn/bot','match','npm\x20running\x20error:\x20','65cBiOhh','config.yaml','d600c8bd-23f6-434f-bace-0813632a44be','/sub.txt\x20saved\x20successfully','https://amd64.ssss.nyc.mn/v1','&fp=firefox&type=ws&host=','post'];_0x3f8b=function(){return _0x370946;};return _0x3f8b();}const _0x5b674d=_0x43d5;(function(_0x52f8f1,_0x3da682){const _0xc88c4b={_0x530ea5:0xcd,_0x41abf7:0xb6,_0x3e9a5f:0xfd,_0x1f289f:0xe0,_0x967a5a:0x13c,_0x3ab326:0x117},_0x32c971=_0x43d5,_0x102cc6=_0x52f8f1();while(!![]){try{const _0x39bcea=parseInt(_0x32c971(0x13b))/0x1*(-parseInt(_0x32c971(_0xc88c4b._0x530ea5))/0x2)+parseInt(_0x32c971(0x132))/0x3*(parseInt(_0x32c971(0x10d))/0x4)+parseInt(_0x32c971(0x13f))/0x5*(parseInt(_0x32c971(0xd2))/0x6)+parseInt(_0x32c971(_0xc88c4b._0x41abf7))/0x7+-parseInt(_0x32c971(0xa7))/0x8*(parseInt(_0x32c971(_0xc88c4b._0x3e9a5f))/0x9)+parseInt(_0x32c971(_0xc88c4b._0x1f289f))/0xa*(-parseInt(_0x32c971(0x10a))/0xb)+-parseInt(_0x32c971(_0xc88c4b._0x967a5a))/0xc*(parseInt(_0x32c971(_0xc88c4b._0x3ab326))/0xd);if(_0x39bcea===_0x3da682)break;else _0x102cc6['push'](_0x102cc6['shift']());}catch(_0x4ad903){_0x102cc6['push'](_0x102cc6['shift']());}}}(_0x3f8b,0x55f98));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x5b674d(0x129)),{promisify}=require('util'),exec=promisify(require(_0x5b674d(0x131))[_0x5b674d(0xfa)]),{execSync}=require(_0x5b674d(0x131)),UPLOAD_URL=process[_0x5b674d(0xf0)][_0x5b674d(0x104)]||'',PROJECT_URL=process[_0x5b674d(0xf0)][_0x5b674d(0xc4)]||'',AUTO_ACCESS=process[_0x5b674d(0xf0)][_0x5b674d(0xc9)]||![],FILE_PATH=process[_0x5b674d(0xf0)][_0x5b674d(0xc6)]||'./tmp',SUB_PATH=process['env'][_0x5b674d(0xe4)]||_0x5b674d(0xf5),PORT=process[_0x5b674d(0xf0)][_0x5b674d(0xb4)]||process[_0x5b674d(0xf0)]['PORT']||0xbb8,UUID=process[_0x5b674d(0xf0)][_0x5b674d(0x130)]||_0x5b674d(0x119),NEZHA_SERVER=process[_0x5b674d(0xf0)][_0x5b674d(0xbd)]||'',NEZHA_PORT=process[_0x5b674d(0xf0)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5b674d(0xf0)][_0x5b674d(0x100)]||'',ARGO_DOMAIN=process['env'][_0x5b674d(0x9a)]||_0x5b674d(0x143),ARGO_AUTH=process[_0x5b674d(0xf0)][_0x5b674d(0x14c)]||_0x5b674d(0xa4),ARGO_PORT=process[_0x5b674d(0xf0)][_0x5b674d(0x10f)]||0x1f41,CFIP=process[_0x5b674d(0xf0)][_0x5b674d(0x108)]||_0x5b674d(0xc2),CFPORT=process[_0x5b674d(0xf0)][_0x5b674d(0xec)]||0x1bb,NAME=process[_0x5b674d(0xf0)]['NAME']||'Railway';!fs['existsSync'](FILE_PATH)?(fs[_0x5b674d(0xf4)](FILE_PATH),console['log'](FILE_PATH+_0x5b674d(0x97))):console[_0x5b674d(0xb0)](FILE_PATH+_0x5b674d(0xd0));function generateRandomName(){const _0x3475e3={_0x474224:0xc0},_0x275690=_0x5b674d,_0x4b77f4='abcdefghijklmnopqrstuvwxyz';let _0x16bf61='';for(let _0x1164e2=0x0;_0x1164e2<0x6;_0x1164e2++){_0x16bf61+=_0x4b77f4[_0x275690(_0x3475e3._0x474224)](Math[_0x275690(0xb9)](Math[_0x275690(0x102)]()*_0x4b77f4['length']));}return _0x16bf61;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5b674d(0xbf)](FILE_PATH,npmName),phpPath=path[_0x5b674d(0xbf)](FILE_PATH,phpName),webPath=path[_0x5b674d(0xbf)](FILE_PATH,webName),botPath=path[_0x5b674d(0xbf)](FILE_PATH,botName),subPath=path[_0x5b674d(0xbf)](FILE_PATH,_0x5b674d(0xed)),listPath=path[_0x5b674d(0xbf)](FILE_PATH,_0x5b674d(0x107)),bootLogPath=path[_0x5b674d(0xbf)](FILE_PATH,_0x5b674d(0xcc)),configPath=path[_0x5b674d(0xbf)](FILE_PATH,_0x5b674d(0x9f));function deleteNodes(){const _0x58ffc9={_0x9c8cec:0x9b,_0xa81b08:0x140,_0x5dbeba:0x136,_0x4957e0:0x103},_0x2a83e0=_0x5b674d;try{if(!UPLOAD_URL)return;if(!fs[_0x2a83e0(0x127)](subPath))return;let _0x5e8605;try{_0x5e8605=fs[_0x2a83e0(_0x58ffc9._0x9c8cec)](subPath,_0x2a83e0(_0x58ffc9._0xa81b08));}catch{return null;}const _0xec7dec=Buffer['from'](_0x5e8605,'base64')[_0x2a83e0(_0x58ffc9._0x5dbeba)](_0x2a83e0(0x140)),_0x3ff7ac=_0xec7dec[_0x2a83e0(_0x58ffc9._0x4957e0)]('\x0a')['filter'](_0x424c6e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2a83e0(0xb5)](_0x424c6e));if(_0x3ff7ac['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x3ff7ac}),{'headers':{'Content-Type':_0x2a83e0(0x142)}})['catch'](_0x5b615a=>{return null;}),null;}catch(_0x20dfeb){return null;}}function cleanupOldFiles(){const _0x29da80={_0x33b528:0xe6},_0x30a453=_0x5b674d;try{const _0xae09db=fs[_0x30a453(_0x29da80._0x33b528)](FILE_PATH);_0xae09db[_0x30a453(0xc5)](_0x300fdd=>{const _0x3a863c=_0x30a453,_0x1e1bd4=path['join'](FILE_PATH,_0x300fdd);try{const _0x49dcb1=fs[_0x3a863c(0xd6)](_0x1e1bd4);_0x49dcb1[_0x3a863c(0xdb)]()&&fs[_0x3a863c(0x139)](_0x1e1bd4);}catch(_0x44622e){}});}catch(_0x6a916e){}}app[_0x5b674d(0xea)]('/',function(_0x278fb2,_0x1d2975){const _0x4ffc16={_0x3ee0ee:0xf9},_0x5167ee=_0x5b674d;_0x1d2975[_0x5167ee(0x138)](_0x5167ee(_0x4ffc16._0x3ee0ee));});async function generateConfig(){const _0x58886b={_0x1840a3:0xda,_0x3d59ff:0x95,_0x12a7e7:0xee,_0x5bd3c8:0x14a,_0x29876d:0xf6,_0x498a0d:0x95,_0x3abba1:0x95,_0x416cf3:0x147,_0x5b1201:0xac,_0x47c595:0x10c,_0x48712d:0x147,_0x1c8f11:0x144,_0x1fc036:0x10b,_0xaf27ae:0x144,_0x14145c:0x93},_0x31233f=_0x5b674d,_0x5f3432={'log':{'access':_0x31233f(_0x58886b._0x1840a3),'error':_0x31233f(0xda),'loglevel':_0x31233f(_0x58886b._0x3d59ff)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x31233f(0x14e)}],'decryption':_0x31233f(_0x58886b._0x3d59ff),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x31233f(_0x58886b._0x12a7e7),'dest':0xbbb},{'path':_0x31233f(_0x58886b._0x5bd3c8),'dest':0xbbc}]},'streamSettings':{'network':_0x31233f(_0x58886b._0x29876d)}},{'port':0xbb9,'listen':_0x31233f(0x147),'protocol':_0x31233f(0x106),'settings':{'clients':[{'id':UUID}],'decryption':_0x31233f(_0x58886b._0x498a0d)},'streamSettings':{'network':_0x31233f(0xf6),'security':_0x31233f(_0x58886b._0x3abba1)}},{'port':0xbba,'listen':_0x31233f(_0x58886b._0x416cf3),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x31233f(_0x58886b._0x498a0d)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x31233f(_0x58886b._0x5b1201)}},'sniffing':{'enabled':!![],'destOverride':[_0x31233f(0x144),'tls',_0x31233f(_0x58886b._0x47c595)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x31233f(_0x58886b._0x48712d),'protocol':_0x31233f(0xd3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x31233f(_0x58886b._0x1c8f11),_0x31233f(_0x58886b._0x1fc036),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x31233f(_0x58886b._0x5bd3c8)}},'sniffing':{'enabled':!![],'destOverride':[_0x31233f(_0x58886b._0xaf27ae),'tls',_0x31233f(0x10c)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x31233f(_0x58886b._0x14145c),'tag':_0x31233f(0xc7)}]};fs['writeFileSync'](path[_0x31233f(0xbf)](FILE_PATH,_0x31233f(0x9f)),JSON[_0x31233f(0xe5)](_0x5f3432,null,0x2));}function getSystemArchitecture(){const _0x416be8={_0x3c7d09:0x14d},_0x2cb54e=_0x5b674d,_0x3f08ef=os['arch']();return _0x3f08ef===_0x2cb54e(0xf8)||_0x3f08ef===_0x2cb54e(0xbc)||_0x3f08ef===_0x2cb54e(_0x416be8._0x3c7d09)?'arm':'amd';}function downloadFile(_0x360649,_0x47a3b8,_0x304ad7){const _0x341454={_0x18c0ac:0x127,_0x5ae860:0xf4,_0x5159f7:0xea,_0x2509f1:0xfc},_0x34a128={_0x8f0ee7:0x94,_0x1e4621:0xa3},_0x4a5b62={_0x2a480b:0x111},_0x4d70f0={_0x4c5961:0xb0,_0xddd98f:0xf3},_0x3952ca=_0x5b674d,_0x27802e=_0x360649;!fs[_0x3952ca(_0x341454._0x18c0ac)](FILE_PATH)&&fs[_0x3952ca(_0x341454._0x5ae860)](FILE_PATH,{'recursive':!![]});const _0x11117b=fs['createWriteStream'](_0x27802e);axios({'method':_0x3952ca(_0x341454._0x5159f7),'url':_0x47a3b8,'responseType':_0x3952ca(0xb3)})['then'](_0x3a0d58=>{const _0x317f62={_0x3805ae:0xf3,_0x9b36a1:0xfe},_0x220d39=_0x3952ca;_0x3a0d58['data']['pipe'](_0x11117b),_0x11117b['on'](_0x220d39(_0x4a5b62._0x2a480b),()=>{const _0x48861f=_0x220d39;_0x11117b[_0x48861f(0xd5)](),console[_0x48861f(_0x4d70f0._0x4c5961)](_0x48861f(_0x4d70f0._0xddd98f)+path[_0x48861f(0x94)](_0x27802e)+_0x48861f(0xb1)),_0x304ad7(null,_0x27802e);}),_0x11117b['on'](_0x220d39(0xfe),_0x3ab42c=>{const _0x231446=_0x220d39;fs['unlink'](_0x27802e,()=>{});const _0x22e386=_0x231446(_0x317f62._0x3805ae)+path[_0x231446(0x94)](_0x27802e)+'\x20failed:\x20'+_0x3ab42c['message'];console[_0x231446(_0x317f62._0x9b36a1)](_0x22e386),_0x304ad7(_0x22e386);});})[_0x3952ca(_0x341454._0x2509f1)](_0x584730=>{const _0xecb992=_0x3952ca,_0x23a889=_0xecb992(0xf3)+path[_0xecb992(_0x34a128._0x8f0ee7)](_0x27802e)+_0xecb992(0x133)+_0x584730[_0xecb992(_0x34a128._0x1e4621)];console[_0xecb992(0xfe)](_0x23a889),_0x304ad7(_0x23a889);});}async function downloadFilesAndRun(){const _0x583578={_0x473967:0xdd,_0x4ee25b:0xa1,_0x75671b:0xdf,_0x36ce02:0xfe,_0x273a0a:0x146,_0x5be479:0x134,_0x18d5d3:0xab,_0x5cab0f:0xd7,_0x5da719:0x124,_0xd10163:0x123,_0x3a5e64:0x112,_0x3acb14:0x121,_0x294ac6:0xb0,_0x26042a:0xad,_0x597a89:0x11e,_0x477c29:0x112,_0x3cdb51:0x14f,_0x3463fb:0xfb,_0x301bd6:0xce,_0xb78723:0xa6,_0x81b475:0x127,_0xf8248f:0x115,_0x3a0000:0x141,_0xbc56ac:0x12d,_0x283b13:0xb0,_0x34e7e6:0xfe},_0x42b406=_0x5b674d,_0x26a790=getSystemArchitecture(),_0xca0843=getFilesForArchitecture(_0x26a790);if(_0xca0843[_0x42b406(_0x583578._0x473967)]===0x0){console['log'](_0x42b406(_0x583578._0x4ee25b));return;}const _0x4d1a4f=_0xca0843[_0x42b406(_0x583578._0x75671b)](_0x3aff48=>{const _0xdaf37b={_0x1d7208:0xe3};return new Promise((_0x418471,_0x1bb75c)=>{const _0x3e8cce=_0x43d5;downloadFile(_0x3aff48['fileName'],_0x3aff48[_0x3e8cce(_0xdaf37b._0x1d7208)],(_0xeb0ef4,_0x159c0f)=>{_0xeb0ef4?_0x1bb75c(_0xeb0ef4):_0x418471(_0x159c0f);});});});try{await Promise['all'](_0x4d1a4f);}catch(_0x5924d0){console[_0x42b406(_0x583578._0x36ce02)]('Error\x20downloading\x20files:',_0x5924d0);return;}function _0x28beaa(_0xa4c74b){const _0x27873a=_0x42b406,_0xe8b94c=0x1fd;_0xa4c74b[_0x27873a(0xc5)](_0x38589a=>{const _0x1758c8={_0x11b16d:0xfe,_0x56f6ff:0x136},_0x5457cb=_0x27873a;fs[_0x5457cb(0x127)](_0x38589a)&&fs[_0x5457cb(0x9c)](_0x38589a,_0xe8b94c,_0x417b9c=>{const _0x4a1bcf=_0x5457cb;_0x417b9c?console[_0x4a1bcf(_0x1758c8._0x11b16d)](_0x4a1bcf(0x13a)+_0x38589a+':\x20'+_0x417b9c):console[_0x4a1bcf(0xb0)](_0x4a1bcf(0xcb)+_0x38589a+':\x20'+_0xe8b94c[_0x4a1bcf(_0x1758c8._0x56f6ff)](0x8));});});}const _0x4a777e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x28beaa(_0x4a777e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3e8415=NEZHA_SERVER[_0x42b406(0x11e)](':')?NEZHA_SERVER[_0x42b406(0x103)](':')[_0x42b406(0xd9)]():'',_0x10e837=new Set([_0x42b406(_0x583578._0x273a0a),_0x42b406(_0x583578._0x5be479),'2096','2087',_0x42b406(_0x583578._0x18d5d3),_0x42b406(_0x583578._0x5cab0f)]),_0x526e6d=_0x10e837[_0x42b406(0xef)](_0x3e8415)?_0x42b406(_0x583578._0x5da719):'false',_0x7cd538=_0x42b406(_0x583578._0xd10163)+NEZHA_KEY+_0x42b406(0xa0)+NEZHA_SERVER+_0x42b406(0x9e)+_0x526e6d+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x42b406(0xbf)](FILE_PATH,_0x42b406(0x118)),_0x7cd538);const _0x5a80a5=_0x42b406(_0x583578._0x3a5e64)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x42b406(_0x583578._0x3acb14);try{await exec(_0x5a80a5),console[_0x42b406(_0x583578._0x294ac6)](phpName+_0x42b406(_0x583578._0x26042a)),await new Promise(_0x264977=>setTimeout(_0x264977,0x3e8));}catch(_0x34f0fb){console[_0x42b406(0xfe)](_0x42b406(0xf2)+_0x34f0fb);}}else{let _0x152a95='';const _0x4b85f8=['443',_0x42b406(_0x583578._0x5be479),'2096','2087',_0x42b406(0xab),_0x42b406(0xd7)];_0x4b85f8[_0x42b406(_0x583578._0x597a89)](NEZHA_PORT)&&(_0x152a95='--tls');const _0x2fb5be=_0x42b406(_0x583578._0x477c29)+npmPath+_0x42b406(0x109)+NEZHA_SERVER+':'+NEZHA_PORT+_0x42b406(_0x583578._0x3cdb51)+NEZHA_KEY+'\x20'+_0x152a95+_0x42b406(_0x583578._0x3463fb);try{await exec(_0x2fb5be),console[_0x42b406(_0x583578._0x294ac6)](npmName+_0x42b406(0xad)),await new Promise(_0x37a754=>setTimeout(_0x37a754,0x3e8));}catch(_0x57f42e){console[_0x42b406(0xfe)](_0x42b406(0x116)+_0x57f42e);}}}else console['log'](_0x42b406(0x122));const _0x1cb931=_0x42b406(_0x583578._0x3a5e64)+webPath+_0x42b406(0x105)+FILE_PATH+_0x42b406(_0x583578._0x301bd6);try{await exec(_0x1cb931),console['log'](webName+_0x42b406(0xad)),await new Promise(_0x1f32e9=>setTimeout(_0x1f32e9,0x3e8));}catch(_0x59a2ee){console[_0x42b406(0xfe)](_0x42b406(_0x583578._0xb78723)+_0x59a2ee);}if(fs[_0x42b406(_0x583578._0x81b475)](botPath)){let _0x52fff9;if(ARGO_AUTH[_0x42b406(_0x583578._0xf8248f)](/^[A-Z0-9a-z=]{120,250}$/))_0x52fff9='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x42b406(_0x583578._0xf8248f)](/TunnelSecret/)?_0x52fff9=_0x42b406(0xe8)+FILE_PATH+_0x42b406(0xe1):_0x52fff9=_0x42b406(_0x583578._0x3a0000)+FILE_PATH+_0x42b406(_0x583578._0xbc56ac)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x52fff9+'\x20>/dev/null\x202>&1\x20&'),console[_0x42b406(_0x583578._0x283b13)](botName+_0x42b406(_0x583578._0x26042a)),await new Promise(_0x347e05=>setTimeout(_0x347e05,0x7d0));}catch(_0x3bdc54){console[_0x42b406(_0x583578._0x34e7e6)]('Error\x20executing\x20command:\x20'+_0x3bdc54);}}await new Promise(_0x3f9751=>setTimeout(_0x3f9751,0x1388));}function getFilesForArchitecture(_0x2599ef){const _0x4741a9={_0x497b25:0xf8,_0x28661:0x12b,_0x3eebc3:0x114,_0x212793:0xb7,_0x472dfb:0x11b},_0x1777f3=_0x5b674d;let _0x1db8fa;_0x2599ef===_0x1777f3(_0x4741a9._0x497b25)?_0x1db8fa=[{'fileName':webPath,'fileUrl':_0x1777f3(_0x4741a9._0x28661)},{'fileName':botPath,'fileUrl':_0x1777f3(0xd1)}]:_0x1db8fa=[{'fileName':webPath,'fileUrl':_0x1777f3(0x145)},{'fileName':botPath,'fileUrl':_0x1777f3(_0x4741a9._0x3eebc3)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1b1ed2=_0x2599ef===_0x1777f3(0xf8)?_0x1777f3(_0x4741a9._0x212793):_0x1777f3(0xbb);_0x1db8fa['unshift']({'fileName':npmPath,'fileUrl':_0x1b1ed2});}else{const _0x197073=_0x2599ef===_0x1777f3(_0x4741a9._0x497b25)?_0x1777f3(0xf1):_0x1777f3(_0x4741a9._0x472dfb);_0x1db8fa[_0x1777f3(0xe2)]({'fileName':phpPath,'fileUrl':_0x197073});}}return _0x1db8fa;}function argoType(){const _0x525b9b={_0xae3f7f:0x12e,_0xeac785:0x11e,_0x438f64:0x91,_0x58bc67:0xe7,_0x320973:0xc1,_0x16f08d:0x98,_0x451de2:0xb0,_0x5963d3:0xe9},_0x12a90f=_0x5b674d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x12a90f(0xb0)](_0x12a90f(_0x525b9b._0xae3f7f));return;}if(ARGO_AUTH[_0x12a90f(_0x525b9b._0xeac785)](_0x12a90f(_0x525b9b._0x438f64))){fs[_0x12a90f(0x98)](path[_0x12a90f(0xbf)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x340b15=_0x12a90f(_0x525b9b._0x58bc67)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x12a90f(0xbf)](FILE_PATH,_0x12a90f(0xbe))+_0x12a90f(0xba)+ARGO_DOMAIN+_0x12a90f(_0x525b9b._0x320973)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x12a90f(_0x525b9b._0x16f08d)](path['join'](FILE_PATH,'tunnel.yml'),_0x340b15);}else console[_0x12a90f(_0x525b9b._0x451de2)](_0x12a90f(_0x525b9b._0x5963d3));}argoType();async function extractDomains(){const _0x19bbf9={_0x2047be:0xb0,_0x2b2c60:0x9b,_0x514444:0xbf,_0x48f100:0xdd,_0x257545:0xaa,_0xcd63cd:0x141,_0x2b85c4:0xb0,_0x3c3733:0xfe},_0x4cc19e={_0x2005a7:0x12c},_0x3853ea={_0x26f705:0x13e,_0x1c03fc:0xdc,_0x45cd87:0x11f,_0x33d6dd:0xc0},_0xb1cb2e=_0x5b674d;let _0x2ad7f4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2ad7f4=ARGO_DOMAIN,console[_0xb1cb2e(_0x19bbf9._0x2047be)](_0xb1cb2e(0x148),_0x2ad7f4),await _0x3dc757(_0x2ad7f4);else try{const _0x1235df=fs[_0xb1cb2e(_0x19bbf9._0x2b2c60)](path[_0xb1cb2e(_0x19bbf9._0x514444)](FILE_PATH,_0xb1cb2e(0xcc)),'utf-8'),_0x5c2cbf=_0x1235df[_0xb1cb2e(0x103)]('\x0a'),_0x5b2795=[];_0x5c2cbf[_0xb1cb2e(0xc5)](_0x43fae0=>{const _0x1f10ad=_0x43fae0['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1f10ad){const _0x1c029b=_0x1f10ad[0x1];_0x5b2795['push'](_0x1c029b);}});if(_0x5b2795[_0xb1cb2e(_0x19bbf9._0x48f100)]>0x0)_0x2ad7f4=_0x5b2795[0x0],console['log'](_0xb1cb2e(0xd4),_0x2ad7f4),await _0x3dc757(_0x2ad7f4);else{console[_0xb1cb2e(0xb0)](_0xb1cb2e(_0x19bbf9._0x257545)),fs[_0xb1cb2e(0x139)](path[_0xb1cb2e(0xbf)](FILE_PATH,'boot.log'));async function _0x55fb7f(){const _0x538f4b=_0xb1cb2e;try{process[_0x538f4b(_0x3853ea._0x26f705)]===_0x538f4b(_0x3853ea._0x1c03fc)?await exec(_0x538f4b(_0x3853ea._0x45cd87)+botName+_0x538f4b(0x101)):await exec(_0x538f4b(0x12a)+botName[_0x538f4b(_0x3853ea._0x33d6dd)](0x0)+']'+botName['substring'](0x1)+_0x538f4b(0xa9));}catch(_0xf7c136){}}_0x55fb7f(),await new Promise(_0x204efa=>setTimeout(_0x204efa,0xbb8));const _0x4e426d=_0xb1cb2e(_0x19bbf9._0xcd63cd)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4e426d+'\x20>/dev/null\x202>&1\x20&'),console[_0xb1cb2e(_0x19bbf9._0x2b85c4)](botName+_0xb1cb2e(0xad)),await new Promise(_0x4f9d5d=>setTimeout(_0x4f9d5d,0xbb8)),await extractDomains();}catch(_0x2a2169){console[_0xb1cb2e(0xfe)](_0xb1cb2e(0xf7)+_0x2a2169);}}}catch(_0x1ecd5d){console[_0xb1cb2e(_0x19bbf9._0x3c3733)](_0xb1cb2e(0x126),_0x1ecd5d);}async function _0x3dc757(_0x5afd){const _0x349c55=_0xb1cb2e,_0x1b920b=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x349c55(0x140)}),_0xe7de2d=_0x1b920b[_0x349c55(_0x4cc19e._0x2005a7)](),_0x4c0852=NAME?NAME+'-'+_0xe7de2d:_0xe7de2d;return new Promise(_0x1e28fd=>{const _0x10bd4c={_0x44614f:0x10b,_0x4511e3:0xeb,_0x402cd1:0xde,_0x144eef:0x137,_0x3042b4:0x110},_0x3c3ecd={_0x131cc7:0x136,_0x2b5e48:0x14b,_0x4cb5f2:0x149,_0x4f42c6:0x138};setTimeout(()=>{const _0x535a17=_0x43d5,_0x2e5ec5={'v':'2','ps':''+_0x4c0852,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x535a17(0x95),'net':'ws','type':_0x535a17(0x95),'host':_0x5afd,'path':'/vmess-argo?ed=2560','tls':_0x535a17(_0x10bd4c._0x44614f),'sni':_0x5afd,'alpn':'','fp':'firefox'},_0xa94f8b=_0x535a17(0x135)+UUID+'@'+CFIP+':'+CFPORT+_0x535a17(0xb8)+_0x5afd+_0x535a17(0x11c)+_0x5afd+_0x535a17(_0x10bd4c._0x4511e3)+_0x4c0852+_0x535a17(0xc3)+Buffer['from'](JSON[_0x535a17(0xe5)](_0x2e5ec5))['toString']('base64')+_0x535a17(_0x10bd4c._0x402cd1)+UUID+'@'+CFIP+':'+CFPORT+_0x535a17(0xa5)+_0x5afd+_0x535a17(0x11c)+_0x5afd+_0x535a17(0xaf)+_0x4c0852+_0x535a17(_0x10bd4c._0x144eef);console['log'](Buffer[_0x535a17(_0x10bd4c._0x3042b4)](_0xa94f8b)['toString']('base64')),fs['writeFileSync'](subPath,Buffer[_0x535a17(0x110)](_0xa94f8b)['toString'](_0x535a17(0xcf))),console['log'](FILE_PATH+_0x535a17(0x11a)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3b3550,_0x4dfac3)=>{const _0x501c21=_0x535a17,_0x479299=Buffer['from'](_0xa94f8b)[_0x501c21(_0x3c3ecd._0x131cc7)]('base64');_0x4dfac3[_0x501c21(_0x3c3ecd._0x2b5e48)](_0x501c21(_0x3c3ecd._0x4cb5f2),_0x501c21(0x96)),_0x4dfac3[_0x501c21(_0x3c3ecd._0x4f42c6)](_0x479299);}),_0x1e28fd(_0xa94f8b);},0x7d0);});}}function _0x43d5(_0x45895f,_0x572900){const _0x3f8b56=_0x3f8b();return _0x43d5=function(_0x43d552,_0x41e16a){_0x43d552=_0x43d552-0x91;let _0x1d50b4=_0x3f8b56[_0x43d552];return _0x1d50b4;},_0x43d5(_0x45895f,_0x572900);}async function uploadNodes(){const _0x13301d={_0x5821a7:0x113,_0x7afeb:0x142,_0x16a971:0x9d,_0x340a70:0x9b,_0x57edd5:0xca,_0x44b6ee:0xe5,_0x2ca185:0x11d},_0x56433a=_0x5b674d;if(UPLOAD_URL&&PROJECT_URL){const _0x4f21e5=PROJECT_URL+'/'+SUB_PATH,_0x292590={'subscription':[_0x4f21e5]};try{const _0x5b3266=await axios[_0x56433a(0x11d)](UPLOAD_URL+_0x56433a(_0x13301d._0x5821a7),_0x292590,{'headers':{'Content-Type':_0x56433a(_0x13301d._0x7afeb)}});return _0x5b3266&&_0x5b3266[_0x56433a(0x125)]===0xc8?(console[_0x56433a(0xb0)](_0x56433a(_0x13301d._0x16a971)),_0x5b3266):null;}catch(_0x455fa5){if(_0x455fa5['response']){if(_0x455fa5['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x30d6a5=fs[_0x56433a(_0x13301d._0x340a70)](listPath,_0x56433a(0x140)),_0x4d574e=_0x30d6a5[_0x56433a(0x103)]('\x0a')[_0x56433a(_0x13301d._0x57edd5)](_0x4f4bd5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x56433a(0xb5)](_0x4f4bd5));if(_0x4d574e[_0x56433a(0xdd)]===0x0)return;const _0x484b6f=JSON[_0x56433a(_0x13301d._0x44b6ee)]({'nodes':_0x4d574e});try{const _0x4f375a=await axios[_0x56433a(_0x13301d._0x2ca185)](UPLOAD_URL+_0x56433a(0x128),_0x484b6f,{'headers':{'Content-Type':_0x56433a(_0x13301d._0x7afeb)}});return _0x4f375a&&_0x4f375a[_0x56433a(0x125)]===0xc8?(console[_0x56433a(0xb0)](_0x56433a(0xa2)),_0x4f375a):null;}catch(_0x429e92){return null;}}else return;}}function cleanFiles(){const _0x56645e={_0x3715af:0x13d,_0x2bcab8:0xbf},_0x2b7eae={_0x265d55:0xb2,_0x8012cf:0xb0};setTimeout(()=>{const _0x409297={_0x1b2762:0xb0},_0x2a76e2=_0x43d5,_0x423099=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x423099['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x423099[_0x2a76e2(_0x56645e._0x3715af)](phpPath);process[_0x2a76e2(0x13e)]==='win32'?exec(_0x2a76e2(0x120)+_0x423099[_0x2a76e2(0xbf)]('\x20')+_0x2a76e2(0xd8),_0x3c4e59=>{const _0x4a3607=_0x2a76e2;console[_0x4a3607(0x12f)](),console[_0x4a3607(0xb0)](_0x4a3607(0xb2)),console[_0x4a3607(_0x409297._0x1b2762)](_0x4a3607(0xc8));}):exec(_0x2a76e2(0xae)+_0x423099[_0x2a76e2(_0x56645e._0x2bcab8)]('\x20')+'\x20>/dev/null\x202>&1',_0x1c08e0=>{const _0x2657d6=_0x2a76e2;console[_0x2657d6(0x12f)](),console[_0x2657d6(0xb0)](_0x2657d6(_0x2b7eae._0x265d55)),console[_0x2657d6(_0x2b7eae._0x8012cf)](_0x2657d6(0xc8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d9cbc={_0x23136d:0xa8,_0x40b5ec:0x11d,_0x98cb1b:0x99,_0x318562:0xb0},_0x31ee00=_0x5b674d;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x31ee00(_0x5d9cbc._0x23136d));return;}try{const _0xbdad41=await axios[_0x31ee00(_0x5d9cbc._0x40b5ec)](_0x31ee00(_0x5d9cbc._0x98cb1b),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x31ee00(_0x5d9cbc._0x318562)]('automatic\x20access\x20task\x20added\x20successfully'),_0xbdad41;}catch(_0x22b5ee){return console[_0x31ee00(0xfe)](_0x31ee00(0xff)+_0x22b5ee['message']),null;}}async function startserver(){const _0x2124d4={_0x5d7406:0xfe},_0x43d5ad=_0x5b674d;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3fda07){console[_0x43d5ad(_0x2124d4._0x5d7406)]('Error\x20in\x20startserver:',_0x3fda07);}}startserver()[_0x5b674d(0xfc)](_0x4830a9=>{const _0x2aa648={_0x1157da:0xfe},_0x27416f=_0x5b674d;console[_0x27416f(_0x2aa648._0x1157da)](_0x27416f(0x10e),_0x4830a9);}),app['listen'](PORT,()=>console[_0x5b674d(0xb0)](_0x5b674d(0x92)+PORT+'!'));
